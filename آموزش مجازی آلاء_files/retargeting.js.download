"use strict";(()=>{var hs=Object.defineProperty;var _s=(t,r)=>{for(var e in r)hs(t,e,{get:r[e],enumerable:!0})};var Re=class t{static extractAdvertiserIdFromUrl(r){let n=/\/serve\/([^/]+)\/retargeting\.js/.exec(r);return n?n[1]:null}static extractUniqueAdvertiserIds(){let r=new Set;if(document.currentScript instanceof HTMLScriptElement){let n=t.extractAdvertiserIdFromUrl(document.currentScript.src);n&&r.add(n)}return Array.from(document.getElementsByTagName("script")).forEach(n=>{if(n.src){let i=t.extractAdvertiserIdFromUrl(n.src);i&&r.add(i)}}),[...r]}};var Xr=function(t,r){return Xr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},Xr(t,r)};function Ut(t,r){Xr(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var R=function(){return R=Object.assign||function(r){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},R.apply(this,arguments)};function St(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o}function Jr(){for(var t=[],r=0;r<arguments.length;r++)t=t.concat(St(arguments[r]));return t}var H;(function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"})(H||(H={}));function ms(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o}function Ti(){for(var t=[],r=0;r<arguments.length;r++)t=t.concat(ms(arguments[r]));return t}var m=function(){return m=Object.assign||function(r){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},m.apply(this,arguments)};function gs(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o}function Nt(){for(var t=[],r=0;r<arguments.length;r++)t=t.concat(gs(arguments[r]));return t}function ki(t){t.then(null,function(r){})}function Oi(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function ce(){return!Oi()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Ii(t,r){return t.require(r)}var vs={};function T(){return ce()?global:typeof window<"u"?window:typeof self<"u"?self:vs}function le(t,r,e){var n=e||T(),i=n.__SENTRY__=n.__SENTRY__||{},o=i[t]||(i[t]=r());return o}var Ri=Object.prototype.toString;function fe(t){switch(Ri.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return st(t,Error)}}function de(t,r){return Ri.call(t)==="[object "+r+"]"}function dr(t){return de(t,"ErrorEvent")}function Vr(t){return de(t,"DOMError")}function Ai(t){return de(t,"DOMException")}function ht(t){return de(t,"String")}function Yt(t){return t===null||typeof t!="object"&&typeof t!="function"}function _t(t){return de(t,"Object")}function Kt(t){return typeof Event<"u"&&st(t,Event)}function Di(t){return typeof Element<"u"&&st(t,Element)}function Pi(t){return de(t,"RegExp")}function pe(t){return!!(t&&t.then&&typeof t.then=="function")}function Ci(t){return _t(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function Ui(t){return typeof t=="number"&&t!==t}function st(t,r){try{return t instanceof r}catch{return!1}}function Ae(t,r){try{for(var e=t,n=5,i=80,o=[],a=0,s=0,l=" > ",u=l.length,c=void 0;e&&a++<n&&(c=ys(e,r),!(c==="html"||a>1&&s+o.length*u+c.length>=i));)o.push(c),s+=c.length,e=e.parentNode;return o.reverse().join(l)}catch{return"<unknown>"}}function ys(t,r){var e=t,n=[],i,o,a,s,l;if(!e||!e.tagName)return"";n.push(e.tagName.toLowerCase());var u=r&&r.length?r.filter(function(d){return e.getAttribute(d)}).map(function(d){return[d,e.getAttribute(d)]}):null;if(u&&u.length)u.forEach(function(d){n.push("["+d[0]+'="'+d[1]+'"]')});else if(e.id&&n.push("#"+e.id),i=e.className,i&&ht(i))for(o=i.split(/\s+/),l=0;l<o.length;l++)n.push("."+o[l]);var c=["type","name","title","alt"];for(l=0;l<c.length;l++)a=c[l],s=e.getAttribute(a),s&&n.push("["+a+'="'+s+'"]');return n.join("")}function Ni(){var t=T();try{return t.document.location.href}catch{return""}}var Qr=function(t,r){return Qr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},Qr(t,r)};function Li(t,r){Qr(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var q=function(){return q=Object.assign||function(r){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},q.apply(this,arguments)};function mt(t){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function ut(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o}function tn(){for(var t=[],r=0;r<arguments.length;r++)t=t.concat(ut(arguments[r]));return t}var ji=Object.setPrototypeOf||({__proto__:[]}instanceof Array?bs:ws);function bs(t,r){return t.__proto__=r,t}function ws(t,r){for(var e in r)Object.prototype.hasOwnProperty.call(t,e)||(t[e]=r[e]);return t}var j=function(t){Li(r,t);function r(e){var n=this.constructor,i=t.call(this,e)||this;return i.message=e,i.name=n.prototype.constructor.name,ji(i,n.prototype),i}return r}(Error);var gt=typeof __SENTRY_DEBUG__>"u"?!0:__SENTRY_DEBUG__;var xs=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Ss(t){return t==="http"||t==="https"}function Lt(t,r){r===void 0&&(r=!1);var e=t.host,n=t.path,i=t.pass,o=t.port,a=t.projectId,s=t.protocol,l=t.publicKey;return s+"://"+l+(r&&i?":"+i:"")+("@"+e+(o?":"+o:"")+"/"+(n&&n+"/")+a)}function Es(t){var r=xs.exec(t);if(!r)throw new j("Invalid Sentry Dsn: "+t);var e=ut(r.slice(1),6),n=e[0],i=e[1],o=e[2],a=o===void 0?"":o,s=e[3],l=e[4],u=l===void 0?"":l,c=e[5],d="",p=c,f=p.split("/");if(f.length>1&&(d=f.slice(0,-1).join("/"),p=f.pop()),p){var h=p.match(/^\d+/);h&&(p=h[0])}return Mi({host:s,pass:a,path:d,projectId:p,port:u,protocol:n,publicKey:i})}function Mi(t){return"user"in t&&!("publicKey"in t)&&(t.publicKey=t.user),{user:t.publicKey||"",protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function Ts(t){if(gt){var r=t.port,e=t.projectId,n=t.protocol,i=["protocol","publicKey","host","projectId"];if(i.forEach(function(o){if(!t[o])throw new j("Invalid Sentry Dsn: "+o+" missing")}),!e.match(/^\d+$/))throw new j("Invalid Sentry Dsn: Invalid projectId "+e);if(!Ss(n))throw new j("Invalid Sentry Dsn: Invalid protocol "+n);if(r&&isNaN(parseInt(r,10)))throw new j("Invalid Sentry Dsn: Invalid port "+r);return!0}}function he(t){var r=typeof t=="string"?Es(t):Mi(t);return Ts(r),r}var zi=["fatal","error","warning","log","info","debug","critical"];var ks=T(),Os="Sentry Logger ",De=["debug","info","warn","error","log","assert"];function en(t){var r=T();if(!("console"in r))return t();var e=r.console,n={};De.forEach(function(i){var o=e[i]&&e[i].__sentry_original__;i in r.console&&o&&(n[i]=e[i],e[i]=o)});try{return t()}finally{Object.keys(n).forEach(function(i){e[i]=n[i]})}}function Bi(){var t=!1,r={enable:function(){t=!0},disable:function(){t=!1}};return gt?De.forEach(function(e){r[e]=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];t&&en(function(){var o;(o=ks.console)[e].apply(o,tn([Os+"["+e+"]:"],n))})}}):De.forEach(function(e){r[e]=function(){}}),r}var y;gt?y=le("logger",Bi):y=Bi();function Xt(t,r){return r===void 0&&(r=0),typeof t!="string"||r===0||t.length<=r?t:t.substr(0,r)+"..."}function rn(t,r){if(!Array.isArray(t))return"";for(var e=[],n=0;n<t.length;n++){var i=t[n];try{e.push(String(i))}catch{e.push("[value cannot be serialized]")}}return e.join(r)}function pr(t,r){return ht(t)?Pi(r)?r.test(t):typeof r=="string"?t.indexOf(r)!==-1:!1:!1}function G(t,r,e){if(r in t){var n=t[r],i=e(n);if(typeof i=="function")try{nn(i,n)}catch{}t[r]=i}}function Jt(t,r,e){Object.defineProperty(t,r,{value:e,writable:!0,configurable:!0})}function nn(t,r){var e=r.prototype||{};t.prototype=r.prototype=e,Jt(t,"__sentry_original__",r)}function _e(t){return t.__sentry_original__}function qi(t){return Object.keys(t).map(function(r){return encodeURIComponent(r)+"="+encodeURIComponent(t[r])}).join("&")}function on(t){var r=t;if(fe(t))r=q({message:t.message,name:t.name,stack:t.stack},Hi(t));else if(Kt(t)){var e=t;r=q({type:e.type,target:Fi(e.target),currentTarget:Fi(e.currentTarget)},Hi(e)),typeof CustomEvent<"u"&&st(t,CustomEvent)&&(r.detail=e.detail)}return r}function Fi(t){try{return Di(t)?Ae(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function Hi(t){var r={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e]);return r}function Zi(t,r){r===void 0&&(r=40);var e=Object.keys(on(t));if(e.sort(),!e.length)return"[object has no keys]";if(e[0].length>=r)return Xt(e[0],r);for(var n=e.length;n>0;n--){var i=e.slice(0,n).join(", ");if(!(i.length>r))return n===e.length?i:Xt(i,r)}return""}function hr(t){var r,e;if(_t(t)){var n={};try{for(var i=mt(Object.keys(t)),o=i.next();!o.done;o=i.next()){var a=o.value;typeof t[a]<"u"&&(n[a]=hr(t[a]))}}catch(s){r={error:s}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(r)throw r.error}}return n}return Array.isArray(t)?t.map(hr):t}var Is=50;function $i(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=t.sort(function(n,i){return n[0]-i[0]}).map(function(n){return n[1]});return function(n,i){var o,a,s,l;i===void 0&&(i=0);var u=[];try{for(var c=mt(n.split(`
`).slice(i)),d=c.next();!d.done;d=c.next()){var p=d.value;try{for(var f=(s=void 0,mt(e)),h=f.next();!h.done;h=f.next()){var I=h.value,b=I(p);if(b){u.push(b);break}}}catch(g){s={error:g}}finally{try{h&&!h.done&&(l=f.return)&&l.call(f)}finally{if(s)throw s.error}}}}catch(g){o={error:g}}finally{try{d&&!d.done&&(a=c.return)&&a.call(c)}finally{if(o)throw o.error}}return Rs(u)}}function Rs(t){if(!t.length)return[];var r=t,e=r[0].function||"",n=r[r.length-1].function||"";return(e.indexOf("captureMessage")!==-1||e.indexOf("captureException")!==-1)&&(r=r.slice(1)),n.indexOf("sentryWrapped")!==-1&&(r=r.slice(0,-1)),r.slice(0,Is).map(function(i){return q(q({},i),{filename:i.filename||r[0].filename,function:i.function||"?"})}).reverse()}var an="<anonymous>";function ct(t){try{return!t||typeof t!="function"?an:t.name||an}catch{return an}}function me(){if(!("fetch"in T()))return!1;try{return new Headers,new Request(""),new Response,!0}catch{return!1}}function _r(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function Gi(){if(!me())return!1;var t=T();if(_r(t.fetch))return!0;var r=!1,e=t.document;if(e&&typeof e.createElement=="function")try{var n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(r=_r(n.contentWindow.fetch)),e.head.removeChild(n)}catch(i){gt&&y.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return r}function Wi(){if(!me())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch{return!1}}function Yi(){var t=T(),r=t.chrome,e=r&&r.app&&r.app.runtime,n="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!e&&n}var z=T(),Pe={},Ki={};function As(t){if(!Ki[t])switch(Ki[t]=!0,t){case"console":Ds();break;case"dom":Bs();break;case"xhr":Ns();break;case"fetch":Ps();break;case"history":Ls();break;case"error":Fs();break;case"unhandledrejection":Hs();break;default:gt&&y.warn("unknown instrumentation type:",t);return}}function Et(t,r){Pe[t]=Pe[t]||[],Pe[t].push(r),As(t)}function lt(t,r){var e,n;if(!(!t||!Pe[t]))try{for(var i=mt(Pe[t]||[]),o=i.next();!o.done;o=i.next()){var a=o.value;try{a(r)}catch(s){gt&&y.error(`Error while triggering instrumentation handler.
Type: `+t+`
Name: `+ct(a)+`
Error:`,s)}}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}function Ds(){"console"in z&&De.forEach(function(t){t in z.console&&G(z.console,t,function(r){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];lt("console",{args:e,level:t}),r&&r.apply(z.console,e)}})})}function Ps(){Gi()&&G(z,"fetch",function(t){return function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var n={args:r,fetchData:{method:Cs(r),url:Us(r)},startTimestamp:Date.now()};return lt("fetch",q({},n)),t.apply(z,r).then(function(i){return lt("fetch",q(q({},n),{endTimestamp:Date.now(),response:i})),i},function(i){throw lt("fetch",q(q({},n),{endTimestamp:Date.now(),error:i})),i})}})}function Cs(t){return t===void 0&&(t=[]),"Request"in z&&st(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function Us(t){return t===void 0&&(t=[]),typeof t[0]=="string"?t[0]:"Request"in z&&st(t[0],Request)?t[0].url:String(t[0])}function Ns(){if("XMLHttpRequest"in z){var t=XMLHttpRequest.prototype;G(t,"open",function(r){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=this,o=e[1],a=i.__sentry_xhr__={method:ht(e[0])?e[0].toUpperCase():e[0],url:e[1]};ht(o)&&a.method==="POST"&&o.match(/sentry_key/)&&(i.__sentry_own_request__=!0);var s=function(){if(i.readyState===4){try{a.status_code=i.status}catch{}lt("xhr",{args:e,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:i})}};return"onreadystatechange"in i&&typeof i.onreadystatechange=="function"?G(i,"onreadystatechange",function(l){return function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return s(),l.apply(i,u)}}):i.addEventListener("readystatechange",s),r.apply(i,e)}}),G(t,"send",function(r){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this.__sentry_xhr__&&e[0]!==void 0&&(this.__sentry_xhr__.body=e[0]),lt("xhr",{args:e,startTimestamp:Date.now(),xhr:this}),r.apply(this,e)}})}}var mr;function Ls(){if(!Yi())return;var t=z.onpopstate;z.onpopstate=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=z.location.href,o=mr;if(mr=i,lt("history",{from:o,to:i}),t)try{return t.apply(this,e)}catch{}};function r(e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=n.length>2?n[2]:void 0;if(o){var a=mr,s=String(o);mr=s,lt("history",{from:a,to:s})}return e.apply(this,n)}}G(z.history,"pushState",r),G(z.history,"replaceState",r)}var js=1e3,gr,vr;function Ms(t,r){if(!t||t.type!==r.type)return!0;try{if(t.target!==r.target)return!0}catch{}return!1}function zs(t){if(t.type!=="keypress")return!1;try{var r=t.target;if(!r||!r.tagName)return!0;if(r.tagName==="INPUT"||r.tagName==="TEXTAREA"||r.isContentEditable)return!1}catch{}return!0}function Xi(t,r){return r===void 0&&(r=!1),function(e){if(!(!e||vr===e)&&!zs(e)){var n=e.type==="keypress"?"input":e.type;gr===void 0?(t({event:e,name:n,global:r}),vr=e):Ms(vr,e)&&(t({event:e,name:n,global:r}),vr=e),clearTimeout(gr),gr=z.setTimeout(function(){gr=void 0},js)}}}function Bs(){if("document"in z){var t=lt.bind(null,"dom"),r=Xi(t,!0);z.document.addEventListener("click",r,!1),z.document.addEventListener("keypress",r,!1),["EventTarget","Node"].forEach(function(e){var n=z[e]&&z[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(G(n,"addEventListener",function(i){return function(o,a,s){if(o==="click"||o=="keypress")try{var l=this,u=l.__sentry_instrumentation_handlers__=l.__sentry_instrumentation_handlers__||{},c=u[o]=u[o]||{refCount:0};if(!c.handler){var d=Xi(t);c.handler=d,i.call(this,o,d,s)}c.refCount+=1}catch{}return i.call(this,o,a,s)}}),G(n,"removeEventListener",function(i){return function(o,a,s){if(o==="click"||o=="keypress")try{var l=this,u=l.__sentry_instrumentation_handlers__||{},c=u[o];c&&(c.refCount-=1,c.refCount<=0&&(i.call(this,o,c.handler,s),c.handler=void 0,delete u[o]),Object.keys(u).length===0&&delete l.__sentry_instrumentation_handlers__)}catch{}return i.call(this,o,a,s)}}))})}}var sn=null;function Fs(){sn=z.onerror,z.onerror=function(t,r,e,n,i){return lt("error",{column:n,error:i,line:e,msg:t,url:r}),sn?sn.apply(this,arguments):!1}}var un=null;function Hs(){un=z.onunhandledrejection,z.onunhandledrejection=function(t){return lt("unhandledrejection",t),un?un.apply(this,arguments):!0}}function Ji(){var t=typeof WeakSet=="function",r=t?new WeakSet:[];function e(i){if(t)return r.has(i)?!0:(r.add(i),!1);for(var o=0;o<r.length;o++){var a=r[o];if(a===i)return!0}return r.push(i),!1}function n(i){if(t)r.delete(i);else for(var o=0;o<r.length;o++)if(r[o]===i){r.splice(o,1);break}}return[e,n]}function Tt(){var t=T(),r=t.crypto||t.msCrypto;if(r!==void 0&&r.getRandomValues){var e=new Uint16Array(8);r.getRandomValues(e),e[3]=e[3]&4095|16384,e[4]=e[4]&16383|32768;var n=function(i){for(var o=i.toString(16);o.length<4;)o="0"+o;return o};return n(e[0])+n(e[1])+n(e[2])+n(e[3])+n(e[4])+n(e[5])+n(e[6])+n(e[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(i){var o=Math.random()*16|0,a=i==="x"?o:o&3|8;return a.toString(16)})}function yr(t){if(!t)return{};var r=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!r)return{};var e=r[6]||"",n=r[8]||"";return{host:r[4],path:r[5],protocol:r[2],relative:r[5]+e+n}}function Vi(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function kt(t){var r=t.message,e=t.event_id;if(r)return r;var n=Vi(t);return n?n.type&&n.value?n.type+": "+n.value:n.type||n.value||e||"<unknown>":e||"<unknown>"}function Ce(t,r,e){var n=t.exception=t.exception||{},i=n.values=n.values||[],o=i[0]=i[0]||{};o.value||(o.value=r||""),o.type||(o.type=e||"Error")}function jt(t,r){var e=Vi(t);if(e){var n={type:"generic",handled:!0},i=e.mechanism;if(e.mechanism=q(q(q({},n),i),r),r&&"data"in r){var o=q(q({},i&&i.data),r.data);e.mechanism.data=o}}}function cn(t){if(t&&t.__sentry_captured__)return!0;try{Jt(t,"__sentry_captured__",!0)}catch{}return!1}function Ot(t,r,e){r===void 0&&(r=1/0),e===void 0&&(e=1/0);try{return Qi("",t,r,e)}catch(n){return{ERROR:"**non-serializable** ("+n+")"}}}function ln(t,r,e){r===void 0&&(r=3),e===void 0&&(e=100*1024);var n=Ot(t,r);return $s(n)>e?ln(t,r-1,e):n}function Qi(t,r,e,n,i){e===void 0&&(e=1/0),n===void 0&&(n=1/0),i===void 0&&(i=Ji());var o=ut(i,2),a=o[0],s=o[1],l=r;if(l&&typeof l.toJSON=="function")try{return l.toJSON()}catch{}if(r===null||["number","boolean","string"].includes(typeof r)&&!Ui(r))return r;var u=qs(t,r);if(!u.startsWith("[object "))return u;if(e===0)return u.replace("object ","");if(a(r))return"[Circular ~]";var c=Array.isArray(r)?[]:{},d=0,p=fe(r)||Kt(r)?on(r):r;for(var f in p)if(Object.prototype.hasOwnProperty.call(p,f)){if(d>=n){c[f]="[MaxProperties ~]";break}var h=p[f];c[f]=Qi(f,h,e-1,n,i),d+=1}return s(r),c}function qs(t,r){try{return t==="domain"&&r&&typeof r=="object"&&r._events?"[Domain]":t==="domainEmitter"?"[DomainEmitter]":typeof global<"u"&&r===global?"[Global]":typeof window<"u"&&r===window?"[Window]":typeof document<"u"&&r===document?"[Document]":Ci(r)?"[SyntheticEvent]":typeof r=="number"&&r!==r?"[NaN]":r===void 0?"[undefined]":typeof r=="function"?"[Function: "+ct(r)+"]":typeof r=="symbol"?"["+String(r)+"]":typeof r=="bigint"?"[BigInt: "+String(r)+"]":"[object "+Object.getPrototypeOf(r).constructor.name+"]"}catch(e){return"**non-serializable** ("+e+")"}}function Zs(t){return~-encodeURI(t).split(/%..|./).length}function $s(t){return Zs(JSON.stringify(t))}function nt(t){return new J(function(r){r(t)})}function Mt(t){return new J(function(r,e){e(t)})}var J=function(){function t(r){var e=this;this._state=0,this._handlers=[],this._resolve=function(n){e._setResult(1,n)},this._reject=function(n){e._setResult(2,n)},this._setResult=function(n,i){if(e._state===0){if(pe(i)){i.then(e._resolve,e._reject);return}e._state=n,e._value=i,e._executeHandlers()}},this._executeHandlers=function(){if(e._state!==0){var n=e._handlers.slice();e._handlers=[],n.forEach(function(i){i[0]||(e._state===1&&i[1](e._value),e._state===2&&i[2](e._value),i[0]=!0)})}};try{r(this._resolve,this._reject)}catch(n){this._reject(n)}}return t.prototype.then=function(r,e){var n=this;return new t(function(i,o){n._handlers.push([!1,function(a){if(!r)i(a);else try{i(r(a))}catch(s){o(s)}},function(a){if(!e)o(a);else try{i(e(a))}catch(s){o(s)}}]),n._executeHandlers()})},t.prototype.catch=function(r){return this.then(function(e){return e},r)},t.prototype.finally=function(r){var e=this;return new t(function(n,i){var o,a;return e.then(function(s){a=!1,o=s,r&&r()},function(s){a=!0,o=s,r&&r()}).then(function(){if(a){i(o);return}n(o)})})},t}();function br(t){var r=[];function e(){return t===void 0||r.length<t}function n(a){return r.splice(r.indexOf(a),1)[0]}function i(a){if(!e())return Mt(new j("Not adding Promise due to buffer limit reached."));var s=a();return r.indexOf(s)===-1&&r.push(s),s.then(function(){return n(s)}).then(null,function(){return n(s).then(null,function(){})}),s}function o(a){return new J(function(s,l){var u=r.length;if(!u)return s(!0);var c=setTimeout(function(){a&&a>0&&s(!1)},a);r.forEach(function(d){nt(d).then(function(){--u||(clearTimeout(c),s(!0))},l)})})}return{$:r,add:i,drain:o}}function Gs(t){return zi.indexOf(t)!==-1}function to(t){return t==="warn"?H.Warning:Gs(t)?t:H.Log}function wr(t){return t>=200&&t<300?"success":t===429?"rate_limit":t>=400&&t<500?"invalid":t>=500?"failed":"unknown"}var dn={nowSeconds:function(){return Date.now()/1e3}};function Ws(){var t=T().performance;if(!(!t||!t.now)){var r=Date.now()-t.now();return{now:function(){return t.now()},timeOrigin:r}}}function Ys(){try{var t=Ii(module,"perf_hooks");return t.performance}catch{return}}var fn=ce()?Ys():Ws(),eo=fn===void 0?dn:{nowSeconds:function(){return(fn.timeOrigin+fn.now())/1e3}},zt=dn.nowSeconds.bind(dn),pn=eo.nowSeconds.bind(eo);var xr,Ep=function(){var t=T().performance;if(!t||!t.now){xr="none";return}var r=3600*1e3,e=t.now(),n=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+e-n):r,o=i<r,a=t.timing&&t.timing.navigationStart,s=typeof a=="number",l=s?Math.abs(a+e-n):r,u=l<r;return o||u?i<=l?(xr="timeOrigin",t.timeOrigin):(xr="navigationStart",a):(xr="dateNow",n)}();function ge(t,r){return r===void 0&&(r=[]),[t,r]}function ro(t){var r=ut(t,2),e=ut(r[1],1),n=ut(e[0],1),i=n[0];return i.type}function Vt(t){var r=ut(t,2),e=r[0],n=r[1],i=JSON.stringify(e);return n.reduce(function(o,a){var s=ut(a,2),l=s[0],u=s[1],c=Yt(u)?String(u):JSON.stringify(u);return o+`
`+JSON.stringify(l)+`
`+c},i)}function no(t,r,e){var n=[{type:"client_report"},{timestamp:e||zt(),discarded_events:t}];return ge(r?{dsn:r}:{},[n])}var Ks=60*1e3;function Xs(t,r){r===void 0&&(r=Date.now());var e=parseInt(""+t,10);if(!isNaN(e))return e*1e3;var n=Date.parse(""+t);return isNaN(n)?Ks:n-r}function Ue(t,r){return t[r]||t.all||0}function Sr(t,r,e){return e===void 0&&(e=Date.now()),Ue(t,r)>e}function Er(t,r,e){var n,i,o,a;e===void 0&&(e=Date.now());var s=q({},t),l=r["x-sentry-rate-limits"],u=r["retry-after"];if(l)try{for(var c=mt(l.trim().split(",")),d=c.next();!d.done;d=c.next()){var p=d.value,f=p.split(":",2),h=parseInt(f[0],10),I=(isNaN(h)?60:h)*1e3;if(!f[1])s.all=e+I;else try{for(var b=(o=void 0,mt(f[1].split(";"))),g=b.next();!g.done;g=b.next()){var A=g.value;s[A]=e+I}}catch(x){o={error:x}}finally{try{g&&!g.done&&(a=b.return)&&a.call(b)}finally{if(o)throw o.error}}}}catch(x){n={error:x}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}else u&&(s.all=e+Xs(u,e));return s}var io=100,It=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}return t.clone=function(r){var e=new t;return r&&(e._breadcrumbs=Nt(r._breadcrumbs),e._tags=m({},r._tags),e._extra=m({},r._extra),e._contexts=m({},r._contexts),e._user=r._user,e._level=r._level,e._span=r._span,e._session=r._session,e._transactionName=r._transactionName,e._fingerprint=r._fingerprint,e._eventProcessors=Nt(r._eventProcessors),e._requestSession=r._requestSession),e},t.prototype.addScopeListener=function(r){this._scopeListeners.push(r)},t.prototype.addEventProcessor=function(r){return this._eventProcessors.push(r),this},t.prototype.setUser=function(r){return this._user=r||{},this._session&&this._session.update({user:r}),this._notifyScopeListeners(),this},t.prototype.getUser=function(){return this._user},t.prototype.getRequestSession=function(){return this._requestSession},t.prototype.setRequestSession=function(r){return this._requestSession=r,this},t.prototype.setTags=function(r){return this._tags=m(m({},this._tags),r),this._notifyScopeListeners(),this},t.prototype.setTag=function(r,e){var n;return this._tags=m(m({},this._tags),(n={},n[r]=e,n)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(r){return this._extra=m(m({},this._extra),r),this._notifyScopeListeners(),this},t.prototype.setExtra=function(r,e){var n;return this._extra=m(m({},this._extra),(n={},n[r]=e,n)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(r){return this._fingerprint=r,this._notifyScopeListeners(),this},t.prototype.setLevel=function(r){return this._level=r,this._notifyScopeListeners(),this},t.prototype.setTransactionName=function(r){return this._transactionName=r,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(r){return this.setTransactionName(r)},t.prototype.setContext=function(r,e){var n;return e===null?delete this._contexts[r]:this._contexts=m(m({},this._contexts),(n={},n[r]=e,n)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(r){return this._span=r,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.prototype.getTransaction=function(){var r=this.getSpan();return r&&r.transaction},t.prototype.setSession=function(r){return r?this._session=r:delete this._session,this._notifyScopeListeners(),this},t.prototype.getSession=function(){return this._session},t.prototype.update=function(r){if(!r)return this;if(typeof r=="function"){var e=r(this);return e instanceof t?e:this}return r instanceof t?(this._tags=m(m({},this._tags),r._tags),this._extra=m(m({},this._extra),r._extra),this._contexts=m(m({},this._contexts),r._contexts),r._user&&Object.keys(r._user).length&&(this._user=r._user),r._level&&(this._level=r._level),r._fingerprint&&(this._fingerprint=r._fingerprint),r._requestSession&&(this._requestSession=r._requestSession)):_t(r)&&(r=r,this._tags=m(m({},this._tags),r.tags),this._extra=m(m({},this._extra),r.extra),this._contexts=m(m({},this._contexts),r.contexts),r.user&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint&&(this._fingerprint=r.fingerprint),r.requestSession&&(this._requestSession=r.requestSession)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(r,e){var n=typeof e=="number"?Math.min(e,io):io;if(n<=0)return this;var i=m({timestamp:zt()},r);return this._breadcrumbs=Nt(this._breadcrumbs,[i]).slice(-n),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype.applyToEvent=function(r,e){if(this._extra&&Object.keys(this._extra).length&&(r.extra=m(m({},this._extra),r.extra)),this._tags&&Object.keys(this._tags).length&&(r.tags=m(m({},this._tags),r.tags)),this._user&&Object.keys(this._user).length&&(r.user=m(m({},this._user),r.user)),this._contexts&&Object.keys(this._contexts).length&&(r.contexts=m(m({},this._contexts),r.contexts)),this._level&&(r.level=this._level),this._transactionName&&(r.transaction=this._transactionName),this._span){r.contexts=m({trace:this._span.getTraceContext()},r.contexts);var n=this._span.transaction&&this._span.transaction.name;n&&(r.tags=m({transaction:n},r.tags))}return this._applyFingerprint(r),r.breadcrumbs=Nt(r.breadcrumbs||[],this._breadcrumbs),r.breadcrumbs=r.breadcrumbs.length>0?r.breadcrumbs:void 0,r.sdkProcessingMetadata=this._sdkProcessingMetadata,this._notifyEventProcessors(Nt(oo(),this._eventProcessors),r,e)},t.prototype.setSDKProcessingMetadata=function(r){return this._sdkProcessingMetadata=m(m({},this._sdkProcessingMetadata),r),this},t.prototype._notifyEventProcessors=function(r,e,n,i){var o=this;return i===void 0&&(i=0),new J(function(a,s){var l=r[i];if(e===null||typeof l!="function")a(e);else{var u=l(m({},e),n);pe(u)?u.then(function(c){return o._notifyEventProcessors(r,c,n,i+1).then(a)}).then(null,s):o._notifyEventProcessors(r,u,n,i+1).then(a).then(null,s)}})},t.prototype._notifyScopeListeners=function(){var r=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(e){e(r)}),this._notifyingListeners=!1)},t.prototype._applyFingerprint=function(r){r.fingerprint=r.fingerprint?Array.isArray(r.fingerprint)?r.fingerprint:[r.fingerprint]:[],this._fingerprint&&(r.fingerprint=r.fingerprint.concat(this._fingerprint)),r.fingerprint&&!r.fingerprint.length&&delete r.fingerprint},t}();function oo(){return le("globalEventProcessors",function(){return[]})}function Rt(t){oo().push(t)}var Tr=function(){function t(r){this.errors=0,this.sid=Tt(),this.duration=0,this.status="ok",this.init=!0,this.ignoreDuration=!1;var e=pn();this.timestamp=e,this.started=e,r&&this.update(r)}return t.prototype.update=function(r){if(r===void 0&&(r={}),r.user&&(!this.ipAddress&&r.user.ip_address&&(this.ipAddress=r.user.ip_address),!this.did&&!r.did&&(this.did=r.user.id||r.user.email||r.user.username)),this.timestamp=r.timestamp||pn(),r.ignoreDuration&&(this.ignoreDuration=r.ignoreDuration),r.sid&&(this.sid=r.sid.length===32?r.sid:Tt()),r.init!==void 0&&(this.init=r.init),!this.did&&r.did&&(this.did=""+r.did),typeof r.started=="number"&&(this.started=r.started),this.ignoreDuration)this.duration=void 0;else if(typeof r.duration=="number")this.duration=r.duration;else{var e=this.timestamp-this.started;this.duration=e>=0?e:0}r.release&&(this.release=r.release),r.environment&&(this.environment=r.environment),!this.ipAddress&&r.ipAddress&&(this.ipAddress=r.ipAddress),!this.userAgent&&r.userAgent&&(this.userAgent=r.userAgent),typeof r.errors=="number"&&(this.errors=r.errors),r.status&&(this.status=r.status)},t.prototype.close=function(r){r?this.update({status:r}):this.status==="ok"?this.update({status:"exited"}):this.update()},t.prototype.toJSON=function(){return hr({sid:""+this.sid,init:this.init,started:new Date(this.started*1e3).toISOString(),timestamp:new Date(this.timestamp*1e3).toISOString(),status:this.status,errors:this.errors,did:typeof this.did=="number"||typeof this.did=="string"?""+this.did:void 0,duration:this.duration,attrs:{release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent}})},t}();var hn=typeof __SENTRY_DEBUG__>"u"?!0:__SENTRY_DEBUG__;var _n=4,Js=100,Bt=function(){function t(r,e,n){e===void 0&&(e=new It),n===void 0&&(n=_n),this._version=n,this._stack=[{}],this.getStackTop().scope=e,r&&this.bindClient(r)}return t.prototype.isOlderThan=function(r){return this._version<r},t.prototype.bindClient=function(r){var e=this.getStackTop();e.client=r,r&&r.setupIntegrations&&r.setupIntegrations()},t.prototype.pushScope=function(){var r=It.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:r}),r},t.prototype.popScope=function(){return this.getStack().length<=1?!1:!!this.getStack().pop()},t.prototype.withScope=function(r){var e=this.pushScope();try{r(e)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(r,e){var n=this._lastEventId=e&&e.event_id?e.event_id:Tt(),i=e;if(!e){var o=void 0;try{throw new Error("Sentry syntheticException")}catch(a){o=a}i={originalException:r,syntheticException:o}}return this._invokeClient("captureException",r,m(m({},i),{event_id:n})),n},t.prototype.captureMessage=function(r,e,n){var i=this._lastEventId=n&&n.event_id?n.event_id:Tt(),o=n;if(!n){var a=void 0;try{throw new Error(r)}catch(s){a=s}o={originalException:r,syntheticException:a}}return this._invokeClient("captureMessage",r,e,m(m({},o),{event_id:i})),i},t.prototype.captureEvent=function(r,e){var n=e&&e.event_id?e.event_id:Tt();return r.type!=="transaction"&&(this._lastEventId=n),this._invokeClient("captureEvent",r,m(m({},e),{event_id:n})),n},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(r,e){var n=this.getStackTop(),i=n.scope,o=n.client;if(!(!i||!o)){var a=o.getOptions&&o.getOptions()||{},s=a.beforeBreadcrumb,l=s===void 0?null:s,u=a.maxBreadcrumbs,c=u===void 0?Js:u;if(!(c<=0)){var d=zt(),p=m({timestamp:d},r),f=l?en(function(){return l(p,e)}):p;f!==null&&i.addBreadcrumb(f,c)}}},t.prototype.setUser=function(r){var e=this.getScope();e&&e.setUser(r)},t.prototype.setTags=function(r){var e=this.getScope();e&&e.setTags(r)},t.prototype.setExtras=function(r){var e=this.getScope();e&&e.setExtras(r)},t.prototype.setTag=function(r,e){var n=this.getScope();n&&n.setTag(r,e)},t.prototype.setExtra=function(r,e){var n=this.getScope();n&&n.setExtra(r,e)},t.prototype.setContext=function(r,e){var n=this.getScope();n&&n.setContext(r,e)},t.prototype.configureScope=function(r){var e=this.getStackTop(),n=e.scope,i=e.client;n&&i&&r(n)},t.prototype.run=function(r){var e=Ne(this);try{r(this)}finally{Ne(e)}},t.prototype.getIntegration=function(r){var e=this.getClient();if(!e)return null;try{return e.getIntegration(r)}catch{return hn&&y.warn("Cannot retrieve integration "+r.id+" from the current Hub"),null}},t.prototype.startSpan=function(r){return this._callExtensionMethod("startSpan",r)},t.prototype.startTransaction=function(r,e){return this._callExtensionMethod("startTransaction",r,e)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype.captureSession=function(r){if(r===void 0&&(r=!1),r)return this.endSession();this._sendSessionUpdate()},t.prototype.endSession=function(){var r=this.getStackTop(),e=r&&r.scope,n=e&&e.getSession();n&&n.close(),this._sendSessionUpdate(),e&&e.setSession()},t.prototype.startSession=function(r){var e=this.getStackTop(),n=e.scope,i=e.client,o=i&&i.getOptions()||{},a=o.release,s=o.environment,l=T(),u=(l.navigator||{}).userAgent,c=new Tr(m(m(m({release:a,environment:s},n&&{user:n.getUser()}),u&&{userAgent:u}),r));if(n){var d=n.getSession&&n.getSession();d&&d.status==="ok"&&d.update({status:"exited"}),this.endSession(),n.setSession(c)}return c},t.prototype._sendSessionUpdate=function(){var r=this.getStackTop(),e=r.scope,n=r.client;if(e){var i=e.getSession&&e.getSession();i&&n&&n.captureSession&&n.captureSession(i)}},t.prototype._invokeClient=function(r){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=this.getStackTop(),a=o.scope,s=o.client;s&&s[r]&&(e=s)[r].apply(e,Nt(n,[a]))},t.prototype._callExtensionMethod=function(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=Le(),o=i.__SENTRY__;if(o&&o.extensions&&typeof o.extensions[r]=="function")return o.extensions[r].apply(this,e);hn&&y.warn("Extension method "+r+" couldn't be found, doing nothing.")},t}();function Le(){var t=T();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function Ne(t){var r=Le(),e=ft(r);return kr(r,t),e}function Z(){var t=Le();return(!ao(t)||ft(t).isOlderThan(_n))&&kr(t,new Bt),ce()?Vs(t):ft(t)}function Vs(t){try{var r=Le().__SENTRY__,e=r&&r.extensions&&r.extensions.domain&&r.extensions.domain.active;if(!e)return ft(t);if(!ao(e)||ft(e).isOlderThan(_n)){var n=ft(t).getStackTop();kr(e,new Bt(n.client,It.clone(n.scope)))}return ft(e)}catch{return ft(t)}}function ao(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function ft(t){return le("hub",function(){return new Bt},t)}function kr(t,r){if(!t)return!1;var e=t.__SENTRY__=t.__SENTRY__||{};return e.hub=r,!0}function so(t){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];var n=Z();if(n&&n[t])return n[t].apply(n,Ti(r));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function Or(t,r){var e=new Error("Sentry syntheticException");return so("captureException",t,{captureContext:r,originalException:t,syntheticException:e})}function Ir(t){so("withScope",t)}var Qs="7",tu=function(){function t(r,e,n){e===void 0&&(e={}),this.dsn=r,this._dsnObject=he(r),this.metadata=e,this._tunnel=n}return t.prototype.getDsn=function(){return this._dsnObject},t.prototype.forceEnvelope=function(){return!!this._tunnel},t.prototype.getBaseApiEndpoint=function(){return mn(this._dsnObject)},t.prototype.getStoreEndpoint=function(){return lo(this._dsnObject)},t.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return ve(this._dsnObject)},t.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return At(this._dsnObject,this._tunnel)},t}();function Ft(t,r,e){return{initDsn:t,metadata:r||{},dsn:he(t),tunnel:e}}function mn(t){var r=t.protocol?t.protocol+":":"",e=t.port?":"+t.port:"";return r+"//"+t.host+e+(t.path?"/"+t.path:"")+"/api/"}function uo(t,r){return""+mn(t)+t.projectId+"/"+r+"/"}function co(t){return qi({sentry_key:t.publicKey,sentry_version:Qs})}function lo(t){return uo(t,"store")}function ve(t){return lo(t)+"?"+co(t)}function eu(t){return uo(t,"envelope")}function At(t,r){return r||eu(t)+"?"+co(t)}function gn(t,r){var e=he(t),n=mn(e)+"embed/error-page/",i="dsn="+Lt(e);for(var o in r)if(o!=="dsn")if(o==="user"){if(!r.user)continue;r.user.name&&(i+="&name="+encodeURIComponent(r.user.name)),r.user.email&&(i+="&email="+encodeURIComponent(r.user.email))}else i+="&"+encodeURIComponent(o)+"="+encodeURIComponent(r[o]);return n+"?"+i}var M=function(){return M=Object.assign||function(r){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},M.apply(this,arguments)};function fo(t){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function je(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o}function V(){for(var t=[],r=0;r<arguments.length;r++)t=t.concat(je(arguments[r]));return t}var F=typeof __SENTRY_DEBUG__>"u"?!0:__SENTRY_DEBUG__;var po=[];function ho(t){return t.reduce(function(r,e){return r.every(function(n){return e.name!==n.name})&&r.push(e),r},[])}function ru(t){var r=t.defaultIntegrations&&V(t.defaultIntegrations)||[],e=t.integrations,n=V(ho(r));Array.isArray(e)?n=V(n.filter(function(a){return e.every(function(s){return s.name!==a.name})}),ho(e)):typeof e=="function"&&(n=e(n),n=Array.isArray(n)?n:[n]);var i=n.map(function(a){return a.name}),o="Debug";return i.indexOf(o)!==-1&&n.push.apply(n,V(n.splice(i.indexOf(o),1))),n}function nu(t){po.indexOf(t.name)===-1&&(t.setupOnce(Rt,Z),po.push(t.name),F&&y.log("Integration installed: "+t.name))}function _o(t){var r={};return ru(t).forEach(function(e){r[e.name]=e,nu(e)}),Jt(r,"initialized",!0),r}var mo="Not capturing exception because it's already been captured.",vn=function(){function t(r,e){this._integrations={},this._numProcessing=0,this._backend=new r(e),this._options=e,e.dsn&&(this._dsn=he(e.dsn))}return t.prototype.captureException=function(r,e,n){var i=this;if(cn(r)){F&&y.log(mo);return}var o=e&&e.event_id;return this._process(this._getBackend().eventFromException(r,e).then(function(a){return i._captureEvent(a,e,n)}).then(function(a){o=a})),o},t.prototype.captureMessage=function(r,e,n,i){var o=this,a=n&&n.event_id,s=Yt(r)?this._getBackend().eventFromMessage(String(r),e,n):this._getBackend().eventFromException(r,n);return this._process(s.then(function(l){return o._captureEvent(l,n,i)}).then(function(l){a=l})),a},t.prototype.captureEvent=function(r,e,n){if(e&&e.originalException&&cn(e.originalException)){F&&y.log(mo);return}var i=e&&e.event_id;return this._process(this._captureEvent(r,e,n).then(function(o){i=o})),i},t.prototype.captureSession=function(r){if(!this._isEnabled()){F&&y.warn("SDK not enabled, will not capture session.");return}typeof r.release!="string"?F&&y.warn("Discarded session because of missing or non-string release"):(this._sendSession(r),r.update({init:!1}))},t.prototype.getDsn=function(){return this._dsn},t.prototype.getOptions=function(){return this._options},t.prototype.getTransport=function(){return this._getBackend().getTransport()},t.prototype.flush=function(r){var e=this;return this._isClientDoneProcessing(r).then(function(n){return e.getTransport().close(r).then(function(i){return n&&i})})},t.prototype.close=function(r){var e=this;return this.flush(r).then(function(n){return e.getOptions().enabled=!1,n})},t.prototype.setupIntegrations=function(){this._isEnabled()&&!this._integrations.initialized&&(this._integrations=_o(this._options))},t.prototype.getIntegration=function(r){try{return this._integrations[r.id]||null}catch{return F&&y.warn("Cannot retrieve integration "+r.id+" from the current Client"),null}},t.prototype._updateSessionFromEvent=function(r,e){var n,i,o=!1,a=!1,s=e.exception&&e.exception.values;if(s){a=!0;try{for(var l=fo(s),u=l.next();!u.done;u=l.next()){var c=u.value,d=c.mechanism;if(d&&d.handled===!1){o=!0;break}}}catch(h){n={error:h}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}}var p=r.status==="ok",f=p&&r.errors===0||p&&o;f&&(r.update(M(M({},o&&{status:"crashed"}),{errors:r.errors||Number(a||o)})),this.captureSession(r))},t.prototype._sendSession=function(r){this._getBackend().sendSession(r)},t.prototype._isClientDoneProcessing=function(r){var e=this;return new J(function(n){var i=0,o=1,a=setInterval(function(){e._numProcessing==0?(clearInterval(a),n(!0)):(i+=o,r&&i>=r&&(clearInterval(a),n(!1)))},o)})},t.prototype._getBackend=function(){return this._backend},t.prototype._isEnabled=function(){return this.getOptions().enabled!==!1&&this._dsn!==void 0},t.prototype._prepareEvent=function(r,e,n){var i=this,o=this.getOptions(),a=o.normalizeDepth,s=a===void 0?3:a,l=o.normalizeMaxBreadth,u=l===void 0?1e3:l,c=M(M({},r),{event_id:r.event_id||(n&&n.event_id?n.event_id:Tt()),timestamp:r.timestamp||zt()});this._applyClientOptions(c),this._applyIntegrationsMetadata(c);var d=e;n&&n.captureContext&&(d=It.clone(d).update(n.captureContext));var p=nt(c);return d&&(p=d.applyToEvent(c,n)),p.then(function(f){return f&&(f.sdkProcessingMetadata=M(M({},f.sdkProcessingMetadata),{normalizeDepth:Ot(s)+" ("+typeof s+")"})),typeof s=="number"&&s>0?i._normalizeEvent(f,s,u):f})},t.prototype._normalizeEvent=function(r,e,n){if(!r)return null;var i=M(M(M(M(M({},r),r.breadcrumbs&&{breadcrumbs:r.breadcrumbs.map(function(o){return M(M({},o),o.data&&{data:Ot(o.data,e,n)})})}),r.user&&{user:Ot(r.user,e,n)}),r.contexts&&{contexts:Ot(r.contexts,e,n)}),r.extra&&{extra:Ot(r.extra,e,n)});return r.contexts&&r.contexts.trace&&(i.contexts.trace=r.contexts.trace),i.sdkProcessingMetadata=M(M({},i.sdkProcessingMetadata),{baseClientNormalized:!0}),i},t.prototype._applyClientOptions=function(r){var e=this.getOptions(),n=e.environment,i=e.release,o=e.dist,a=e.maxValueLength,s=a===void 0?250:a;"environment"in r||(r.environment="environment"in e?n:"production"),r.release===void 0&&i!==void 0&&(r.release=i),r.dist===void 0&&o!==void 0&&(r.dist=o),r.message&&(r.message=Xt(r.message,s));var l=r.exception&&r.exception.values&&r.exception.values[0];l&&l.value&&(l.value=Xt(l.value,s));var u=r.request;u&&u.url&&(u.url=Xt(u.url,s))},t.prototype._applyIntegrationsMetadata=function(r){var e=Object.keys(this._integrations);e.length>0&&(r.sdk=r.sdk||{},r.sdk.integrations=V(r.sdk.integrations||[],e))},t.prototype._sendEvent=function(r){this._getBackend().sendEvent(r)},t.prototype._captureEvent=function(r,e,n){return this._processEvent(r,e,n).then(function(i){return i.event_id},function(i){F&&y.error(i)})},t.prototype._processEvent=function(r,e,n){var i=this,o=this.getOptions(),a=o.beforeSend,s=o.sampleRate,l=this.getTransport();function u(d,p){l.recordLostEvent&&l.recordLostEvent(d,p)}if(!this._isEnabled())return Mt(new j("SDK not enabled, will not capture event."));var c=r.type==="transaction";return!c&&typeof s=="number"&&Math.random()>s?(u("sample_rate","event"),Mt(new j("Discarding event because it's not included in the random sample (sampling rate = "+s+")"))):this._prepareEvent(r,n,e).then(function(d){if(d===null)throw u("event_processor",r.type||"event"),new j("An event processor returned null, will not send event.");var p=e&&e.data&&e.data.__sentry__===!0;if(p||c||!a)return d;var f=a(d,e);return iu(f)}).then(function(d){if(d===null)throw u("before_send",r.type||"event"),new j("`beforeSend` returned `null`, will not send event.");var p=n&&n.getSession&&n.getSession();return!c&&p&&i._updateSessionFromEvent(p,d),i._sendEvent(d),d}).then(null,function(d){throw d instanceof j?d:(i.captureException(d,{data:{__sentry__:!0},originalException:d}),new j(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: `+d))})},t.prototype._process=function(r){var e=this;this._numProcessing+=1,r.then(function(n){return e._numProcessing-=1,n},function(n){return e._numProcessing-=1,n})},t}();function iu(t){var r="`beforeSend` method has to return `null` or a valid event.";if(pe(t))return t.then(function(e){if(!(_t(e)||e===null))throw new j(r);return e},function(e){throw new j("beforeSend rejected with "+e)});if(!(_t(t)||t===null))throw new j(r);return t}function yn(t){if(!(!t.metadata||!t.metadata.sdk)){var r=t.metadata.sdk,e=r.name,n=r.version;return{name:e,version:n}}}function go(t,r){return r&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||r.name,t.sdk.version=t.sdk.version||r.version,t.sdk.integrations=V(t.sdk.integrations||[],r.integrations||[]),t.sdk.packages=V(t.sdk.packages||[],r.packages||[])),t}function bn(t,r){var e=yn(r),n=M(M({sent_at:new Date().toISOString()},e&&{sdk:e}),!!r.tunnel&&{dsn:Lt(r.dsn)}),i="aggregates"in t?"sessions":"session",o=[{type:i},t],a=ge(n,[o]);return[a,i]}function wn(t,r){var e=je(bn(t,r),2),n=e[0],i=e[1];return{body:Vt(n),type:i,url:At(r.dsn,r.tunnel)}}function vo(t,r){var e=yn(r),n=t.type||"event",i=(t.sdkProcessingMetadata||{}).transactionSampling,o=i||{},a=o.method,s=o.rate;go(t,r.metadata.sdk),t.tags=t.tags||{},t.extra=t.extra||{},t.sdkProcessingMetadata&&t.sdkProcessingMetadata.baseClientNormalized||(t.tags.skippedNormalization=!0,t.extra.normalizeDepth=t.sdkProcessingMetadata?t.sdkProcessingMetadata.normalizeDepth:"unset"),delete t.sdkProcessingMetadata;var l=M(M({event_id:t.event_id,sent_at:new Date().toISOString()},e&&{sdk:e}),!!r.tunnel&&{dsn:Lt(r.dsn)}),u=[{type:n,sample_rates:[{id:a,rate:s}]},t];return ge(l,[u])}function xn(t,r){var e=yn(r),n=t.type||"event",i=n==="transaction"||!!r.tunnel,o=(t.sdkProcessingMetadata||{}).transactionSampling,a=o||{},s=a.method,l=a.rate;go(t,r.metadata.sdk),t.tags=t.tags||{},t.extra=t.extra||{},t.sdkProcessingMetadata&&t.sdkProcessingMetadata.baseClientNormalized||(t.tags.skippedNormalization=!0,t.extra.normalizeDepth=t.sdkProcessingMetadata?t.sdkProcessingMetadata.normalizeDepth:"unset"),delete t.sdkProcessingMetadata;var u;try{u=JSON.stringify(t)}catch(I){t.tags.JSONStringifyError=!0,t.extra.JSONStringifyError=I;try{u=JSON.stringify(Ot(t))}catch(b){var c=b;u=JSON.stringify({message:"JSON.stringify error after renormalization",extra:{message:c.message,stack:c.stack}})}}var d={body:u,type:n,url:i?At(r.dsn,r.tunnel):ve(r.dsn)};if(i){var p=M(M({event_id:t.event_id,sent_at:new Date().toISOString()},e&&{sdk:e}),!!r.tunnel&&{dsn:Lt(r.dsn)}),f=[{type:n,sample_rates:[{id:s,rate:l}]},d.body],h=ge(p,[f]);d.body=Vt(h)}return d}var yo=function(){function t(){}return t.prototype.sendEvent=function(r){return nt({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:"skipped"})},t.prototype.close=function(r){return nt(!0)},t}();var Sn=function(){function t(r){this._options=r,this._options.dsn||F&&y.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return t.prototype.eventFromException=function(r,e){throw new j("Backend has to implement `eventFromException` method")},t.prototype.eventFromMessage=function(r,e,n){throw new j("Backend has to implement `eventFromMessage` method")},t.prototype.sendEvent=function(r){if(this._newTransport&&this._options.dsn&&this._options._experiments&&this._options._experiments.newTransport){var e=Ft(this._options.dsn,this._options._metadata,this._options.tunnel),n=vo(r,e);this._newTransport.send(n).then(null,function(i){F&&y.error("Error while sending event:",i)})}else this._transport.sendEvent(r).then(null,function(i){F&&y.error("Error while sending event:",i)})},t.prototype.sendSession=function(r){if(!this._transport.sendSession){F&&y.warn("Dropping session because custom transport doesn't implement sendSession");return}if(this._newTransport&&this._options.dsn&&this._options._experiments&&this._options._experiments.newTransport){var e=Ft(this._options.dsn,this._options._metadata,this._options.tunnel),n=je(bn(r,e),1),i=n[0];this._newTransport.send(i).then(null,function(o){F&&y.error("Error while sending session:",o)})}else this._transport.sendSession(r).then(null,function(o){F&&y.error("Error while sending session:",o)})},t.prototype.getTransport=function(){return this._transport},t.prototype._setupTransport=function(){return new yo},t}();var ou=30;function Me(t,r,e){e===void 0&&(e=br(t.bufferSize||ou));var n={},i=function(a){return e.drain(a)};function o(a){var s=ro(a),l=s==="event"?"error":s,u={category:l,body:Vt(a)};if(Sr(n,l))return Mt({status:"rate_limit",reason:bo(n,l)});var c=function(){return r(u).then(function(d){var p=d.body,f=d.headers,h=d.reason,I=d.statusCode,b=wr(I);return f&&(n=Er(n,f)),b==="success"?nt({status:b,reason:h}):Mt({status:b,reason:h||p||(b==="rate_limit"?bo(n,l):"Unknown transport error")})})};return e.add(c)}return{send:o,flush:i}}function bo(t,r){return"Too many "+r+" requests, backing off until: "+new Date(Ue(t,r)).toISOString()}var ze="6.19.7";var Be={};_s(Be,{FunctionToString:()=>xo,InboundFilters:()=>Eo});var wo,xo=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){wo=Function.prototype.toString,Function.prototype.toString=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var n=_e(this)||this;return wo.apply(n,r)}},t.id="FunctionToString",t}();var au=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Eo=function(){function t(r){r===void 0&&(r={}),this._options=r,this.name=t.id}return t.prototype.setupOnce=function(r,e){r(function(n){var i=e();if(i){var o=i.getIntegration(t);if(o){var a=i.getClient(),s=a?a.getOptions():{},l=su(o._options,s);return uu(n,l)?null:n}}return n})},t.id="InboundFilters",t}();function su(t,r){return t===void 0&&(t={}),r===void 0&&(r={}),{allowUrls:V(t.whitelistUrls||[],t.allowUrls||[],r.whitelistUrls||[],r.allowUrls||[]),denyUrls:V(t.blacklistUrls||[],t.denyUrls||[],r.blacklistUrls||[],r.denyUrls||[]),ignoreErrors:V(t.ignoreErrors||[],r.ignoreErrors||[],au),ignoreInternal:t.ignoreInternal!==void 0?t.ignoreInternal:!0}}function uu(t,r){return r.ignoreInternal&&pu(t)?(F&&y.warn(`Event dropped due to being internal Sentry Error.
Event: `+kt(t)),!0):cu(t,r.ignoreErrors)?(F&&y.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+kt(t)),!0):lu(t,r.denyUrls)?(F&&y.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+kt(t)+`.
Url: `+Rr(t)),!0):fu(t,r.allowUrls)?!1:(F&&y.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+kt(t)+`.
Url: `+Rr(t)),!0)}function cu(t,r){return!r||!r.length?!1:du(t).some(function(e){return r.some(function(n){return pr(e,n)})})}function lu(t,r){if(!r||!r.length)return!1;var e=Rr(t);return e?r.some(function(n){return pr(e,n)}):!1}function fu(t,r){if(!r||!r.length)return!0;var e=Rr(t);return e?r.some(function(n){return pr(e,n)}):!0}function du(t){if(t.message)return[t.message];if(t.exception)try{var r=t.exception.values&&t.exception.values[0]||{},e=r.type,n=e===void 0?"":e,i=r.value,o=i===void 0?"":i;return[""+o,n+": "+o]}catch{return F&&y.error("Cannot extract message for event "+kt(t)),[]}return[]}function pu(t){try{return t.exception.values[0].type==="SentryError"}catch{}return!1}function So(t){t===void 0&&(t=[]);for(var r=t.length-1;r>=0;r--){var e=t[r];if(e&&e.filename!=="<anonymous>"&&e.filename!=="[native code]")return e.filename||null}return null}function Rr(t){try{if(t.stacktrace)return So(t.stacktrace.frames);var r;try{r=t.exception.values[0].stacktrace.frames}catch{}return r?So(r):null}catch{return F&&y.error("Cannot extract url for event "+kt(t)),null}}var ye="?",Tu=10,ku=20,Ou=30,Iu=40,Ru=50;function Fe(t,r,e,n){var i={filename:t,function:r,in_app:!0};return e!==void 0&&(i.lineno=e),n!==void 0&&(i.colno=n),i}var Au=/^\s*at (?:(.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Du=/\((\S*)(?::(\d+))(?::(\d+))\)/,Pu=function(t){var r=Au.exec(t);if(r){var e=r[2]&&r[2].indexOf("eval")===0;if(e){var n=Du.exec(r[2]);n&&(r[2]=n[1],r[3]=n[2],r[4]=n[3])}var i=St(Ao(r[1]||ye,r[2]),2),o=i[0],a=i[1];return Fe(a,o,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},To=[Ou,Pu],Cu=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Uu=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Nu=function(t){var r,e=Cu.exec(t);if(e){var n=e[3]&&e[3].indexOf(" > eval")>-1;if(n){var i=Uu.exec(e[3]);i&&(e[1]=e[1]||"eval",e[3]=i[1],e[4]=i[2],e[5]="")}var o=e[3],a=e[1]||ye;return r=St(Ao(a,o),2),a=r[0],o=r[1],Fe(o,a,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},ko=[Ru,Nu],Lu=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,ju=function(t){var r=Lu.exec(t);return r?Fe(r[2],r[1]||ye,+r[3],r[4]?+r[4]:void 0):void 0},Oo=[Iu,ju],Mu=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,zu=function(t){var r=Mu.exec(t);return r?Fe(r[2],r[3]||ye,+r[1]):void 0},Io=[Tu,zu],Bu=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,Fu=function(t){var r=Bu.exec(t);return r?Fe(r[5],r[3]||r[4]||ye,+r[1],+r[2]):void 0},Ro=[ku,Fu],Ao=function(t,r){var e=t.indexOf("safari-extension")!==-1,n=t.indexOf("safari-web-extension")!==-1;return e||n?[t.indexOf("@")!==-1?t.split("@")[0]:ye,e?"safari-extension:"+r:"safari-web-extension:"+r]:[t,r]};function kn(t){var r=On(t),e={type:t&&t.name,value:$u(t)};return r.length&&(e.stacktrace={frames:r}),e.type===void 0&&e.value===""&&(e.value="Unrecoverable error caught"),e}function Hu(t,r,e){var n={exception:{values:[{type:Kt(t)?t.constructor.name:e?"UnhandledRejection":"Error",value:"Non-Error "+(e?"promise rejection":"exception")+" captured with keys: "+Zi(t)}]},extra:{__serialized__:ln(t)}};if(r){var i=On(r);i.length&&(n.stacktrace={frames:i})}return n}function En(t){return{exception:{values:[kn(t)]}}}function On(t){var r=t.stacktrace||t.stack||"",e=Zu(t);try{return $i(Io,Ro,To,Oo,ko)(r,e)}catch{}return[]}var qu=/Minified React error #\d+;/i;function Zu(t){if(t){if(typeof t.framesToPop=="number")return t.framesToPop;if(qu.test(t.message))return 1}return 0}function $u(t){var r=t&&t.message;return r?r.error&&typeof r.error.message=="string"?r.error.message:r:"No error message"}function Do(t,r,e){var n=r&&r.syntheticException||void 0,i=Ar(t,n,e);return jt(i),i.level=H.Error,r&&r.event_id&&(i.event_id=r.event_id),nt(i)}function Po(t,r,e,n){r===void 0&&(r=H.Info);var i=e&&e.syntheticException||void 0,o=Tn(t,i,n);return o.level=r,e&&e.event_id&&(o.event_id=e.event_id),nt(o)}function Ar(t,r,e,n){var i;if(dr(t)&&t.error){var o=t;return En(o.error)}if(Vr(t)||Ai(t)){var a=t;if("stack"in t)i=En(t);else{var s=a.name||(Vr(a)?"DOMError":"DOMException"),l=a.message?s+": "+a.message:s;i=Tn(l,r,e),Ce(i,l)}return"code"in a&&(i.tags=R(R({},i.tags),{"DOMException.code":""+a.code})),i}if(fe(t))return En(t);if(_t(t)||Kt(t)){var u=t;return i=Hu(u,r,n),jt(i,{synthetic:!0}),i}return i=Tn(t,r,e),Ce(i,""+t,void 0),jt(i,{synthetic:!0}),i}function Tn(t,r,e){var n={message:t};if(e&&r){var i=On(r);i.length&&(n.stacktrace={frames:i})}return n}var Y=typeof __SENTRY_DEBUG__>"u"?!0:__SENTRY_DEBUG__;var dt=T(),Dr;function He(){if(Dr)return Dr;if(_r(dt.fetch))return Dr=dt.fetch.bind(dt);var t=dt.document,r=dt.fetch;if(t&&typeof t.createElement=="function")try{var e=t.createElement("iframe");e.hidden=!0,t.head.appendChild(e);var n=e.contentWindow;n&&n.fetch&&(r=n.fetch),t.head.removeChild(e)}catch(i){Y&&y.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return Dr=r.bind(dt)}function Co(t,r){var e=Object.prototype.toString.call(dt&&dt.navigator)==="[object Navigator]",n=e&&typeof dt.navigator.sendBeacon=="function";if(n){var i=dt.navigator.sendBeacon.bind(dt.navigator);return i(t,r)}if(me()){var o=He();return ki(o(t,{body:r,method:"POST",credentials:"omit",keepalive:!0}))}}function In(t){var r=t;return r==="event"?"error":r}var Rn=T(),Pr=function(){function t(r){var e=this;this.options=r,this._buffer=br(30),this._rateLimits={},this._outcomes={},this._api=Ft(r.dsn,r._metadata,r.tunnel),this.url=ve(this._api.dsn),this.options.sendClientReports&&Rn.document&&Rn.document.addEventListener("visibilitychange",function(){Rn.document.visibilityState==="hidden"&&e._flushOutcomes()})}return t.prototype.sendEvent=function(r){return this._sendRequest(xn(r,this._api),r)},t.prototype.sendSession=function(r){return this._sendRequest(wn(r,this._api),r)},t.prototype.close=function(r){return this._buffer.drain(r)},t.prototype.recordLostEvent=function(r,e){var n;if(this.options.sendClientReports){var i=In(e)+":"+r;Y&&y.log("Adding outcome: "+i),this._outcomes[i]=(n=this._outcomes[i],(n??0)+1)}},t.prototype._flushOutcomes=function(){if(this.options.sendClientReports){var r=this._outcomes;if(this._outcomes={},!Object.keys(r).length){Y&&y.log("No outcomes to flush");return}Y&&y.log(`Flushing outcomes:
`+JSON.stringify(r,null,2));var e=At(this._api.dsn,this._api.tunnel),n=Object.keys(r).map(function(o){var a=St(o.split(":"),2),s=a[0],l=a[1];return{reason:l,category:s,quantity:r[o]}}),i=no(n,this._api.tunnel&&Lt(this._api.dsn));try{Co(e,Vt(i))}catch(o){Y&&y.error(o)}}},t.prototype._handleResponse=function(r){var e=r.requestType,n=r.response,i=r.headers,o=r.resolve,a=r.reject,s=wr(n.status);if(this._rateLimits=Er(this._rateLimits,i),this._isRateLimited(e)&&Y&&y.warn("Too many "+e+" requests, backing off until: "+this._disabledUntil(e)),s==="success"){o({status:s});return}a(n)},t.prototype._disabledUntil=function(r){var e=In(r);return new Date(Ue(this._rateLimits,e))},t.prototype._isRateLimited=function(r){var e=In(r);return Sr(this._rateLimits,e)},t}();var An=function(t){Ut(r,t);function r(e,n){n===void 0&&(n=He());var i=t.call(this,e)||this;return i._fetch=n,i}return r.prototype._sendRequest=function(e,n){var i=this;if(this._isRateLimited(e.type))return this.recordLostEvent("ratelimit_backoff",e.type),Promise.reject({event:n,type:e.type,reason:"Transport for "+e.type+" requests locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429});var o={body:e.body,method:"POST",referrerPolicy:Wi()?"origin":""};return this.options.fetchParameters!==void 0&&Object.assign(o,this.options.fetchParameters),this.options.headers!==void 0&&(o.headers=this.options.headers),this._buffer.add(function(){return new J(function(a,s){i._fetch(e.url,o).then(function(l){var u={"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")};i._handleResponse({requestType:e.type,response:l,headers:u,resolve:a,reject:s})}).catch(s)})}).then(void 0,function(a){throw a instanceof j?i.recordLostEvent("queue_overflow",e.type):i.recordLostEvent("network_error",e.type),a})},r}(Pr);var Dn=function(t){Ut(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.prototype._sendRequest=function(e,n){var i=this;return this._isRateLimited(e.type)?(this.recordLostEvent("ratelimit_backoff",e.type),Promise.reject({event:n,type:e.type,reason:"Transport for "+e.type+" requests locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429})):this._buffer.add(function(){return new J(function(o,a){var s=new XMLHttpRequest;s.onreadystatechange=function(){if(s.readyState===4){var u={"x-sentry-rate-limits":s.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":s.getResponseHeader("Retry-After")};i._handleResponse({requestType:e.type,response:s,headers:u,resolve:o,reject:a})}},s.open("POST",e.url);for(var l in i.options.headers)Object.prototype.hasOwnProperty.call(i.options.headers,l)&&s.setRequestHeader(l,i.options.headers[l]);s.send(e.body)})}).then(void 0,function(o){throw o instanceof j?i.recordLostEvent("queue_overflow",e.type):i.recordLostEvent("network_error",e.type),o})},r}(Pr);function Pn(t,r){r===void 0&&(r=He());function e(n){var i=R({body:n.body,method:"POST",referrerPolicy:"origin"},t.requestOptions);return r(t.url,i).then(function(o){return o.text().then(function(a){return{body:a,headers:{"x-sentry-rate-limits":o.headers.get("X-Sentry-Rate-Limits"),"retry-after":o.headers.get("Retry-After")},reason:o.statusText,statusCode:o.status}})})}return Me({bufferSize:t.bufferSize},e)}var Gu=4;function Cn(t){function r(e){return new J(function(n,i){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(o.readyState===Gu){var s={body:o.response,headers:{"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")},reason:o.statusText,statusCode:o.status};n(s)}},o.open("POST",t.url);for(var a in t.headers)Object.prototype.hasOwnProperty.call(t.headers,a)&&o.setRequestHeader(a,t.headers[a]);o.send(e.body)})}return Me({bufferSize:t.bufferSize},r)}var Uo=function(t){Ut(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.prototype.eventFromException=function(e,n){return Do(e,n,this._options.attachStacktrace)},r.prototype.eventFromMessage=function(e,n,i){return n===void 0&&(n=H.Info),Po(e,n,i,this._options.attachStacktrace)},r.prototype._setupTransport=function(){if(!this._options.dsn)return t.prototype._setupTransport.call(this);var e=R(R({},this._options.transportOptions),{dsn:this._options.dsn,tunnel:this._options.tunnel,sendClientReports:this._options.sendClientReports,_metadata:this._options._metadata}),n=Ft(e.dsn,e._metadata,e.tunnel),i=At(n.dsn,n.tunnel);if(this._options.transport)return new this._options.transport(e);if(me()){var o=R({},e.fetchParameters);return this._newTransport=Pn({requestOptions:o,url:i}),new An(e)}return this._newTransport=Cn({url:i,headers:e.headers}),new Dn(e)},r}(Sn);var Cr=T(),Un=0;function Nn(){return Un>0}function Wu(){Un+=1,setTimeout(function(){Un-=1})}function Qt(t,r,e){if(r===void 0&&(r={}),typeof t!="function")return t;try{var n=t.__sentry_wrapped__;if(n)return n;if(_e(t))return t}catch{return t}var i=function(){var s=Array.prototype.slice.call(arguments);try{e&&typeof e=="function"&&e.apply(this,arguments);var l=s.map(function(u){return Qt(u,r)});return t.apply(this,l)}catch(u){throw Wu(),Ir(function(c){c.addEventProcessor(function(d){return r.mechanism&&(Ce(d,void 0,void 0),jt(d,r.mechanism)),d.extra=R(R({},d.extra),{arguments:s}),d}),Or(u)}),u}};try{for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=t[o])}catch{}nn(i,t),Jt(t,"__sentry_wrapped__",i);try{var a=Object.getOwnPropertyDescriptor(i,"name");a.configurable&&Object.defineProperty(i,"name",{get:function(){return t.name}})}catch{}return i}function No(t){if(t===void 0&&(t={}),!!Cr.document){if(!t.eventId){Y&&y.error("Missing eventId option in showReportDialog call");return}if(!t.dsn){Y&&y.error("Missing dsn option in showReportDialog call");return}var r=Cr.document.createElement("script");r.async=!0,r.src=gn(t.dsn,t),t.onLoad&&(r.onload=t.onLoad);var e=Cr.document.head||Cr.document.body;e&&e.appendChild(r)}}var qe=function(){function t(r){this.name=t.id,this._installFunc={onerror:Yu,onunhandledrejection:Ku},this._options=R({onerror:!0,onunhandledrejection:!0},r)}return t.prototype.setupOnce=function(){Error.stackTraceLimit=50;var r=this._options;for(var e in r){var n=this._installFunc[e];n&&r[e]&&(Vu(e),n(),this._installFunc[e]=void 0)}},t.id="GlobalHandlers",t}();function Yu(){Et("error",function(t){var r=St(Mo(),2),e=r[0],n=r[1];if(e.getIntegration(qe)){var i=t.msg,o=t.url,a=t.line,s=t.column,l=t.error;if(!(Nn()||l&&l.__sentry_own_request__)){var u=l===void 0&&ht(i)?Ju(i,o,a,s):Lo(Ar(l||i,void 0,n,!1),o,a,s);u.level=H.Error,jo(e,l,u,"onerror")}}})}function Ku(){Et("unhandledrejection",function(t){var r=St(Mo(),2),e=r[0],n=r[1];if(e.getIntegration(qe)){var i=t;try{"reason"in t?i=t.reason:"detail"in t&&"reason"in t.detail&&(i=t.detail.reason)}catch{}if(Nn()||i&&i.__sentry_own_request__)return!0;var o=Yt(i)?Xu(i):Ar(i,void 0,n,!0);o.level=H.Error,jo(e,i,o,"onunhandledrejection")}})}function Xu(t){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(t)}]}}}function Ju(t,r,e,n){var i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,o=dr(t)?t.message:t,a="Error",s=o.match(i);s&&(a=s[1],o=s[2]);var l={exception:{values:[{type:a,value:o}]}};return Lo(l,r,e,n)}function Lo(t,r,e,n){var i=t.exception=t.exception||{},o=i.values=i.values||[],a=o[0]=o[0]||{},s=a.stacktrace=a.stacktrace||{},l=s.frames=s.frames||[],u=isNaN(parseInt(n,10))?void 0:n,c=isNaN(parseInt(e,10))?void 0:e,d=ht(r)&&r.length>0?r:Ni();return l.length===0&&l.push({colno:u,filename:d,function:"?",in_app:!0,lineno:c}),t}function Vu(t){Y&&y.log("Global Handler attached: "+t)}function jo(t,r,e,n){jt(e,{handled:!1,type:n}),t.captureEvent(e,{originalException:r})}function Mo(){var t=Z(),r=t.getClient(),e=r&&r.getOptions().attachStacktrace;return[t,e]}var Qu=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Ln=function(){function t(r){this.name=t.id,this._options=R({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},r)}return t.prototype.setupOnce=function(){var r=T();this._options.setTimeout&&G(r,"setTimeout",zo),this._options.setInterval&&G(r,"setInterval",zo),this._options.requestAnimationFrame&&G(r,"requestAnimationFrame",tc),this._options.XMLHttpRequest&&"XMLHttpRequest"in r&&G(XMLHttpRequest.prototype,"send",ec);var e=this._options.eventTarget;if(e){var n=Array.isArray(e)?e:Qu;n.forEach(rc)}},t.id="TryCatch",t}();function zo(t){return function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var n=r[0];return r[0]=Qt(n,{mechanism:{data:{function:ct(t)},handled:!0,type:"instrument"}}),t.apply(this,r)}}function tc(t){return function(r){return t.apply(this,[Qt(r,{mechanism:{data:{function:"requestAnimationFrame",handler:ct(t)},handled:!0,type:"instrument"}})])}}function ec(t){return function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var n=this,i=["onload","onerror","onprogress","onreadystatechange"];return i.forEach(function(o){o in n&&typeof n[o]=="function"&&G(n,o,function(a){var s={mechanism:{data:{function:o,handler:ct(a)},handled:!0,type:"instrument"}},l=_e(a);return l&&(s.mechanism.data.handler=ct(l)),Qt(a,s)})}),t.apply(this,r)}}function rc(t){var r=T(),e=r[t]&&r[t].prototype;!e||!e.hasOwnProperty||!e.hasOwnProperty("addEventListener")||(G(e,"addEventListener",function(n){return function(i,o,a){try{typeof o.handleEvent=="function"&&(o.handleEvent=Qt(o.handleEvent.bind(o),{mechanism:{data:{function:"handleEvent",handler:ct(o),target:t},handled:!0,type:"instrument"}}))}catch{}return n.apply(this,[i,Qt(o,{mechanism:{data:{function:"addEventListener",handler:ct(o),target:t},handled:!0,type:"instrument"}}),a])}}),G(e,"removeEventListener",function(n){return function(i,o,a){var s=o;try{var l=s&&s.__sentry_wrapped__;l&&n.call(this,i,l,a)}catch{}return n.call(this,i,s,a)}}))}var Ze=function(){function t(r){this.name=t.id,this._options=R({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},r)}return t.prototype.addSentryBreadcrumb=function(r){this._options.sentry&&Z().addBreadcrumb({category:"sentry."+(r.type==="transaction"?"transaction":"event"),event_id:r.event_id,level:r.level,message:kt(r)},{event:r})},t.prototype.setupOnce=function(){this._options.console&&Et("console",ic),this._options.dom&&Et("dom",nc(this._options.dom)),this._options.xhr&&Et("xhr",oc),this._options.fetch&&Et("fetch",ac),this._options.history&&Et("history",sc)},t.id="Breadcrumbs",t}();function nc(t){function r(e){var n,i=typeof t=="object"?t.serializeAttribute:void 0;typeof i=="string"&&(i=[i]);try{n=e.event.target?Ae(e.event.target,i):Ae(e.event,i)}catch{n="<unknown>"}n.length!==0&&Z().addBreadcrumb({category:"ui."+e.name,message:n},{event:e.event,name:e.name,global:e.global})}return r}function ic(t){var r={category:"console",data:{arguments:t.args,logger:"console"},level:to(t.level),message:rn(t.args," ")};if(t.level==="assert")if(t.args[0]===!1)r.message="Assertion failed: "+(rn(t.args.slice(1)," ")||"console.assert"),r.data.arguments=t.args.slice(1);else return;Z().addBreadcrumb(r,{input:t.args,level:t.level})}function oc(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;var r=t.xhr.__sentry_xhr__||{},e=r.method,n=r.url,i=r.status_code,o=r.body;Z().addBreadcrumb({category:"xhr",data:{method:e,url:n,status_code:i},type:"http"},{xhr:t.xhr,input:o});return}}function ac(t){t.endTimestamp&&(t.fetchData.url.match(/sentry_key/)&&t.fetchData.method==="POST"||(t.error?Z().addBreadcrumb({category:"fetch",data:t.fetchData,level:H.Error,type:"http"},{data:t.error,input:t.args}):Z().addBreadcrumb({category:"fetch",data:R(R({},t.fetchData),{status_code:t.response.status}),type:"http"},{input:t.args,response:t.response})))}function sc(t){var r=T(),e=t.from,n=t.to,i=yr(r.location.href),o=yr(e),a=yr(n);o.path||(o=i),i.protocol===a.protocol&&i.host===a.host&&(n=a.relative),i.protocol===o.protocol&&i.host===o.host&&(e=o.relative),Z().addBreadcrumb({category:"navigation",data:{from:e,to:n}})}var uc="cause",cc=5,jn=function(){function t(r){r===void 0&&(r={}),this.name=t.id,this._key=r.key||uc,this._limit=r.limit||cc}return t.prototype.setupOnce=function(){Rt(function(r,e){var n=Z().getIntegration(t);return n?lc(n._key,n._limit,r,e):r})},t.id="LinkedErrors",t}();function lc(t,r,e,n){if(!e.exception||!e.exception.values||!n||!st(n.originalException,Error))return e;var i=Bo(r,n.originalException,t);return e.exception.values=Jr(i,e.exception.values),e}function Bo(t,r,e,n){if(n===void 0&&(n=[]),!st(r[e],Error)||n.length+1>=t)return n;var i=kn(r[e]);return Bo(t,r[e],e,Jr([i],n))}var te=T(),Mn=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){Rt(function(r){if(Z().getIntegration(t)){if(!te.navigator&&!te.location&&!te.document)return r;var e=r.request&&r.request.url||te.location&&te.location.href,n=(te.document||{}).referrer,i=(te.navigator||{}).userAgent,o=R(R(R({},r.request&&r.request.headers),n&&{Referer:n}),i&&{"User-Agent":i}),a=R(R({},e&&{url:e}),{headers:o});return R(R({},r),{request:a})}return r})},t.id="UserAgent",t}();var zn=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(r,e){r(function(n){var i=e().getIntegration(t);if(i){try{if(fc(n,i._previousEvent))return Y&&y.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return i._previousEvent=n}return i._previousEvent=n}return n})},t.id="Dedupe",t}();function fc(t,r){return r?!!(dc(t,r)||pc(t,r)):!1}function dc(t,r){var e=t.message,n=r.message;return!(!e&&!n||e&&!n||!e&&n||e!==n||!Zo(t,r)||!qo(t,r))}function pc(t,r){var e=Fo(r),n=Fo(t);return!(!e||!n||e.type!==n.type||e.value!==n.value||!Zo(t,r)||!qo(t,r))}function qo(t,r){var e=Ho(t),n=Ho(r);if(!e&&!n)return!0;if(e&&!n||!e&&n||(e=e,n=n,n.length!==e.length))return!1;for(var i=0;i<n.length;i++){var o=n[i],a=e[i];if(o.filename!==a.filename||o.lineno!==a.lineno||o.colno!==a.colno||o.function!==a.function)return!1}return!0}function Zo(t,r){var e=t.fingerprint,n=r.fingerprint;if(!e&&!n)return!0;if(e&&!n||!e&&n)return!1;e=e,n=n;try{return e.join("")===n.join("")}catch{return!1}}function Fo(t){return t.exception&&t.exception.values&&t.exception.values[0]}function Ho(t){var r=t.exception;if(r)try{return r.values[0].stacktrace.frames}catch{return}else if(t.stacktrace)return t.stacktrace.frames}var Bn=function(t){Ut(r,t);function r(e){e===void 0&&(e={});var n=this;return e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:ze}],version:ze},n=t.call(this,Uo,e)||this,n}return r.prototype.showReportDialog=function(e){e===void 0&&(e={});var n=T().document;if(n){if(!this._isEnabled()){Y&&y.error("Trying to call showReportDialog with Sentry Client disabled");return}No(R(R({},e),{dsn:e.dsn||this.getDsn()}))}},r.prototype._prepareEvent=function(e,n,i){return e.platform=e.platform||"javascript",t.prototype._prepareEvent.call(this,e,n,i)},r.prototype._sendEvent=function(e){var n=this.getIntegration(Ze);n&&n.addSentryBreadcrumb(e),t.prototype._sendEvent.call(this,e)},r}(vn);var Fn=[new Be.InboundFilters,new Be.FunctionToString,new Ln,new Ze,new qe,new jn,new zn,new Mn];var Hn=class{hub=new Bt;constructor(){let r=new Bn({dsn:"https://fcfebe517e7e4bcb9199d7c31c1d3927@sentry.pegah.tech/229",release:"1.0.0",integrations:Fn.filter(e=>!["Breadcrumbs","GlobalHandlers"].includes(e.name)),enabled:!0,debug:!1});this.hub.bindClient(r)}captureWithScope(r,e,n=H.Log){this.hub.withScope(i=>{e&&i.setExtra("data",e),i.setExtra("userAgent",navigator.userAgent),n===H.Log?this.hub.captureMessage(r,n):this.hub.captureException(r)})}captureError(r,e){this.captureWithScope(r,e,H.Error)}captureLog(r,e){this.captureWithScope(r,e,H.Log)}},N=new Hn;var D=class t{static docReadyEvent="DOMContentLoaded";static currentPath=t.getCurrentPath();static onDocumentReady(r){document.readyState==="complete"||document.readyState==="interactive"?t.setTimeoutWithCleanUp(r,1):document.addEventListener(t.docReadyEvent,r,{signal:t.abortController.signal})}static getCurrentPath(){try{let r=window.parent.location.href,e=window.parent.location.origin;if(!e||!r.startsWith(e))return t.currentPath;let n=r.substring(e.length);return!n||typeof n!="string"?t.currentPath:decodeURIComponent(n)}catch{return t.currentPath||""}}static appendHiddenIframe(r){let e=t.createHiddenElement("iframe");e.src=r,t.appendElementToDocument(e)}static appendScript(r){let e=document.createElement("script");e.type="text/javascript",e.src=r,t.appendElementToDocument(e)}static throttleTimeout=new Map;static throttleLikeTagAssignment(r,e,n=500){if(t.throttleTimeout.has(e)){let i=t.throttleTimeout.get(e);i&&clearTimeout(i),t.throttleTimeout.set(e,t.setTimeoutWithCleanUp(()=>r(),n))}else t.throttleTimeout.set(e,t.setTimeoutWithCleanUp(()=>r(),n))}static createHiddenElement(r){let e=document.createElement(r);return e.style.display="none",e}static appendElementToDocument(r){try{document.body.appendChild(r)}catch(e){N.captureError(e,r)}}static abortController=new AbortController;static timeouts=[];static intervals=[];static setTimeoutWithCleanUp(r,e,n=!1){let i=setTimeout(r,e);return n||t.timeouts.push(i),i}static setIntervalWithCleanUp(r,e,n=!1){let i=setInterval(r,e);return n||t.intervals.push(i),i}static clearTimers(){this.timeouts.forEach(r=>clearTimeout(r)),this.timeouts.splice(0,this.timeouts.length),this.intervals.forEach(r=>clearInterval(r)),this.intervals.splice(0,this.intervals.length)}};var S=class t{static sessionLifetime=18e5;static storeItem(r,e){localStorage.setItem(r,e)}static loadItem(r){return localStorage.getItem(r)}static deleteItem(r){localStorage.removeItem(r)}static sendSessionData(r){this.storeItem("ma-session:data",JSON.stringify(r)),this.deleteItem("ma-session:data")}static storeSyncedSessionData(r,e){sessionStorage.setItem(r,e),localStorage.setItem(r,e);let n={};n[r]=e,this.sendSessionData(n)}static exportSessionData(){if(!sessionStorage.length)return;let r={};for(let e=0;e<sessionStorage.length;e++){let n=sessionStorage.key(e);n&&n.startsWith("ma-session:")&&(r[n]=sessionStorage.getItem(n))}this.sendSessionData(r)}static importSessionData(r){let e=JSON.parse(r);Object.keys(e).forEach(n=>{let i=e[n];i===null?sessionStorage.removeItem(n):sessionStorage.setItem(n,i)})}static getSessionStartTime(){let r=this.loadItem("ma-session:start");return r?parseInt(r,10):0}static setSessionStartTime(r){this.storeItem("ma-session:start",r.toString())}static getSessionNumber(){let r=this.loadItem("ma-session:num");return r?parseInt(r,10):-1}static incrementSessionNumber(){let r=this.getSessionNumber()+1;return this.storeItem("ma-session:num",r.toString()),r}static getSessionEndTime(){let r=this.loadItem("ma-session:end");return r?parseInt(r,10):0}static extendSessionLifetime(r){this.storeItem("ma-session:end",(r+t.sessionLifetime).toString())}static isNextSession(r,e){return e<=r||new Date(this.getSessionStartTime()).toLocaleDateString()!==new Date(r).toLocaleDateString()}static deleteSessionParams(){let r=[];Object.keys(localStorage).forEach(e=>{e.startsWith("ma-session:")&&r.push(e)}),r.forEach(e=>{this.deleteItem(e)})}static executeCustomActionInSession(r,e){let n=`ma-session:${this.getSessionNumber()}:${r}`;this.storeItem(n,"1");try{e()}catch(i){N.captureError(i)}}static executeCustomActionOnceInSession(r,e){let n=`ma-session:${this.getSessionNumber()}:${r}`;if(!this.loadItem(n)){this.storeItem(n,"1");try{e()}catch(i){N.captureError(i)}}}static extendSession(){let r=Date.now(),e=this.getSessionEndTime();return this.extendSessionLifetime(r),this.isNextSession(r,e)?(this.setSessionStartTime(r),"new-session-needed"):"no-new-session-needed"}};var Q=class{static USER_ID_KEY="MEDIAAD_USER_ID";static userIdHolder={value:null,listeners:[]};static withUserIdCallback(r){let e=this.userIdHolder.value;if(e)try{r(e)}catch(n){N.captureError(n)}else this.userIdHolder.listeners.push(r)}static setUserId(r){for(this.userIdHolder.value=r;this.userIdHolder.listeners.length>0;)this.userIdHolder.listeners.pop()?.(r)}static getUserId(){return this.userIdHolder.value?this.userIdHolder.value:(this.userIdHolder.value=S.loadItem(this.USER_ID_KEY),this.userIdHolder.value)}};var $e=class{addEventListener(r,e){let n=window;window.addEventListener?window.addEventListener(r,e,{}):n.attachEvent?n.attachEvent(`on${r}`,i=>{e(i)}):N.captureLog("Neither addEventListener nor attachEvent is supported in this browser.")}handleStorageEvent(r){!r||!r.newValue||(r.key==="ma-session:get"?S.exportSessionData():r.key==="ma-session:data"&&S.importSessionData(r.newValue))}handleMessageEvent(r){try{let e=r.data;if(!e||typeof e.indexOf>"u")return;if(e.indexOf("mediaad-fid:")===0){let n=e.split(":")[1];Q.setUserId(n),S.storeItem(Q.getUserId(),n),S.storeItem(Q.USER_ID_KEY,n)}}catch(e){N.captureError(e,r)}}initialize(){this.addEventListener("storage",this.handleStorageEvent),this.addEventListener("message",this.handleMessageEvent)}};var qn=class{constructor(r,e){this.location=r;this.document=e;this.currentPath=D.getCurrentPath(),this.matchIntervalCounter={},this.timeouts=[]}currentPath;matchIntervalCounter;timeouts;domainMatches(r){let e=typeof r=="string"?r:r.domain;if(e){let n=this.location.hostname;return n===e||n===`www.${e}`||`www.${n}`===e}return!0}referrerMatches(r){if(r.referrer){let{referrer:e}=this.document;return e.includes(r.referrer)}return!0}testMatcherEqualsTo(r){return this.currentPath===r.query}testMatcherContains(r){return this.currentPath.includes(r.query)}testMatcherStartsWith(r){return this.currentPath.startsWith(r.query)}testMatcherEndsWith(r){return this.currentPath.endsWith(r.query)}testMatcherRegex(r){return new RegExp(r.query).test(this.currentPath)}testMatcherHtmlElement(r,e,n){let i=D.setIntervalWithCleanUp(()=>{this.matchIntervalCounter[e.id]=(this.matchIntervalCounter[e.id]||0)+1;let o=this.document.getElementById(e.query)||this.document.querySelector(e.query);(o||this.matchIntervalCounter[e.id]>=r.max_interval_reset)&&(clearInterval(i),n(!!o))},1e3);this.timeouts.push(i)}testMatcher(r){if(!this.domainMatches(r))return!1;switch(r.pattern_type){case"equalsTo":return this.testMatcherEqualsTo(r);case"contains":return this.testMatcherContains(r);case"startsWith":return this.testMatcherStartsWith(r);case"endsWith":return this.testMatcherEndsWith(r);case"regex":return this.testMatcherRegex(r);case"htmlElement":return!1;default:return!1}}testMatcherAsync(r,e,n){if(!this.domainMatches(e)||!this.referrerMatches(e)){n(!1);return}e.pattern_type==="htmlElement"?this.testMatcherHtmlElement(r,e,n):n(this.testMatcher(e))}updateCurrentPath(){this.currentPath=D.getCurrentPath()}},Zn=qn;function Te(t){let r=t.length;for(;--r>=0;)t[r]=0}var hc=0,Ra=1,_c=2,mc=3,gc=258,hi=29,ar=256,Ve=ar+1+hi,xe=30,_i=19,Aa=2*Ve+1,ee=15,$n=16,vc=7,mi=256,Da=16,Pa=17,Ca=18,oi=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),zr=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),yc=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Ua=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),bc=512,Pt=new Array((Ve+2)*2);Te(Pt);var Ke=new Array(xe*2);Te(Ke);var Qe=new Array(bc);Te(Qe);var tr=new Array(gc-mc+1);Te(tr);var gi=new Array(hi);Te(gi);var Br=new Array(xe);Te(Br);function Gn(t,r,e,n,i){this.static_tree=t,this.extra_bits=r,this.extra_base=e,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}var Na,La,ja;function Wn(t,r){this.dyn_tree=t,this.max_code=0,this.stat_desc=r}var Ma=t=>t<256?Qe[t]:Qe[256+(t>>>7)],er=(t,r)=>{t.pending_buf[t.pending++]=r&255,t.pending_buf[t.pending++]=r>>>8&255},tt=(t,r,e)=>{t.bi_valid>$n-e?(t.bi_buf|=r<<t.bi_valid&65535,er(t,t.bi_buf),t.bi_buf=r>>$n-t.bi_valid,t.bi_valid+=e-$n):(t.bi_buf|=r<<t.bi_valid&65535,t.bi_valid+=e)},yt=(t,r,e)=>{tt(t,e[r*2],e[r*2+1])},za=(t,r)=>{let e=0;do e|=t&1,t>>>=1,e<<=1;while(--r>0);return e>>>1},wc=t=>{t.bi_valid===16?(er(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},xc=(t,r)=>{let e=r.dyn_tree,n=r.max_code,i=r.stat_desc.static_tree,o=r.stat_desc.has_stree,a=r.stat_desc.extra_bits,s=r.stat_desc.extra_base,l=r.stat_desc.max_length,u,c,d,p,f,h,I=0;for(p=0;p<=ee;p++)t.bl_count[p]=0;for(e[t.heap[t.heap_max]*2+1]=0,u=t.heap_max+1;u<Aa;u++)c=t.heap[u],p=e[e[c*2+1]*2+1]+1,p>l&&(p=l,I++),e[c*2+1]=p,!(c>n)&&(t.bl_count[p]++,f=0,c>=s&&(f=a[c-s]),h=e[c*2],t.opt_len+=h*(p+f),o&&(t.static_len+=h*(i[c*2+1]+f)));if(I!==0){do{for(p=l-1;t.bl_count[p]===0;)p--;t.bl_count[p]--,t.bl_count[p+1]+=2,t.bl_count[l]--,I-=2}while(I>0);for(p=l;p!==0;p--)for(c=t.bl_count[p];c!==0;)d=t.heap[--u],!(d>n)&&(e[d*2+1]!==p&&(t.opt_len+=(p-e[d*2+1])*e[d*2],e[d*2+1]=p),c--)}},Ba=(t,r,e)=>{let n=new Array(ee+1),i=0,o,a;for(o=1;o<=ee;o++)i=i+e[o-1]<<1,n[o]=i;for(a=0;a<=r;a++){let s=t[a*2+1];s!==0&&(t[a*2]=za(n[s]++,s))}},Sc=()=>{let t,r,e,n,i,o=new Array(ee+1);for(e=0,n=0;n<hi-1;n++)for(gi[n]=e,t=0;t<1<<oi[n];t++)tr[e++]=n;for(tr[e-1]=n,i=0,n=0;n<16;n++)for(Br[n]=i,t=0;t<1<<zr[n];t++)Qe[i++]=n;for(i>>=7;n<xe;n++)for(Br[n]=i<<7,t=0;t<1<<zr[n]-7;t++)Qe[256+i++]=n;for(r=0;r<=ee;r++)o[r]=0;for(t=0;t<=143;)Pt[t*2+1]=8,t++,o[8]++;for(;t<=255;)Pt[t*2+1]=9,t++,o[9]++;for(;t<=279;)Pt[t*2+1]=7,t++,o[7]++;for(;t<=287;)Pt[t*2+1]=8,t++,o[8]++;for(Ba(Pt,Ve+1,o),t=0;t<xe;t++)Ke[t*2+1]=5,Ke[t*2]=za(t,5);Na=new Gn(Pt,oi,ar+1,Ve,ee),La=new Gn(Ke,zr,0,xe,ee),ja=new Gn(new Array(0),yc,0,_i,vc)},Fa=t=>{let r;for(r=0;r<Ve;r++)t.dyn_ltree[r*2]=0;for(r=0;r<xe;r++)t.dyn_dtree[r*2]=0;for(r=0;r<_i;r++)t.bl_tree[r*2]=0;t.dyn_ltree[mi*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},Ha=t=>{t.bi_valid>8?er(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},$o=(t,r,e,n)=>{let i=r*2,o=e*2;return t[i]<t[o]||t[i]===t[o]&&n[r]<=n[e]},Yn=(t,r,e)=>{let n=t.heap[e],i=e<<1;for(;i<=t.heap_len&&(i<t.heap_len&&$o(r,t.heap[i+1],t.heap[i],t.depth)&&i++,!$o(r,n,t.heap[i],t.depth));)t.heap[e]=t.heap[i],e=i,i<<=1;t.heap[e]=n},Go=(t,r,e)=>{let n,i,o=0,a,s;if(t.sym_next!==0)do n=t.pending_buf[t.sym_buf+o++]&255,n+=(t.pending_buf[t.sym_buf+o++]&255)<<8,i=t.pending_buf[t.sym_buf+o++],n===0?yt(t,i,r):(a=tr[i],yt(t,a+ar+1,r),s=oi[a],s!==0&&(i-=gi[a],tt(t,i,s)),n--,a=Ma(n),yt(t,a,e),s=zr[a],s!==0&&(n-=Br[a],tt(t,n,s)));while(o<t.sym_next);yt(t,mi,r)},ai=(t,r)=>{let e=r.dyn_tree,n=r.stat_desc.static_tree,i=r.stat_desc.has_stree,o=r.stat_desc.elems,a,s,l=-1,u;for(t.heap_len=0,t.heap_max=Aa,a=0;a<o;a++)e[a*2]!==0?(t.heap[++t.heap_len]=l=a,t.depth[a]=0):e[a*2+1]=0;for(;t.heap_len<2;)u=t.heap[++t.heap_len]=l<2?++l:0,e[u*2]=1,t.depth[u]=0,t.opt_len--,i&&(t.static_len-=n[u*2+1]);for(r.max_code=l,a=t.heap_len>>1;a>=1;a--)Yn(t,e,a);u=o;do a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Yn(t,e,1),s=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=s,e[u*2]=e[a*2]+e[s*2],t.depth[u]=(t.depth[a]>=t.depth[s]?t.depth[a]:t.depth[s])+1,e[a*2+1]=e[s*2+1]=u,t.heap[1]=u++,Yn(t,e,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],xc(t,r),Ba(e,l,t.bl_count)},Wo=(t,r,e)=>{let n,i=-1,o,a=r[0*2+1],s=0,l=7,u=4;for(a===0&&(l=138,u=3),r[(e+1)*2+1]=65535,n=0;n<=e;n++)o=a,a=r[(n+1)*2+1],!(++s<l&&o===a)&&(s<u?t.bl_tree[o*2]+=s:o!==0?(o!==i&&t.bl_tree[o*2]++,t.bl_tree[Da*2]++):s<=10?t.bl_tree[Pa*2]++:t.bl_tree[Ca*2]++,s=0,i=o,a===0?(l=138,u=3):o===a?(l=6,u=3):(l=7,u=4))},Yo=(t,r,e)=>{let n,i=-1,o,a=r[0*2+1],s=0,l=7,u=4;for(a===0&&(l=138,u=3),n=0;n<=e;n++)if(o=a,a=r[(n+1)*2+1],!(++s<l&&o===a)){if(s<u)do yt(t,o,t.bl_tree);while(--s!==0);else o!==0?(o!==i&&(yt(t,o,t.bl_tree),s--),yt(t,Da,t.bl_tree),tt(t,s-3,2)):s<=10?(yt(t,Pa,t.bl_tree),tt(t,s-3,3)):(yt(t,Ca,t.bl_tree),tt(t,s-11,7));s=0,i=o,a===0?(l=138,u=3):o===a?(l=6,u=3):(l=7,u=4)}},Ec=t=>{let r;for(Wo(t,t.dyn_ltree,t.l_desc.max_code),Wo(t,t.dyn_dtree,t.d_desc.max_code),ai(t,t.bl_desc),r=_i-1;r>=3&&t.bl_tree[Ua[r]*2+1]===0;r--);return t.opt_len+=3*(r+1)+5+5+4,r},Tc=(t,r,e,n)=>{let i;for(tt(t,r-257,5),tt(t,e-1,5),tt(t,n-4,4),i=0;i<n;i++)tt(t,t.bl_tree[Ua[i]*2+1],3);Yo(t,t.dyn_ltree,r-1),Yo(t,t.dyn_dtree,e-1)},kc=t=>{let r=4093624447,e;for(e=0;e<=31;e++,r>>>=1)if(r&1&&t.dyn_ltree[e*2]!==0)return 0;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return 1;for(e=32;e<ar;e++)if(t.dyn_ltree[e*2]!==0)return 1;return 0},Ko=!1,Oc=t=>{Ko||(Sc(),Ko=!0),t.l_desc=new Wn(t.dyn_ltree,Na),t.d_desc=new Wn(t.dyn_dtree,La),t.bl_desc=new Wn(t.bl_tree,ja),t.bi_buf=0,t.bi_valid=0,Fa(t)},qa=(t,r,e,n)=>{tt(t,(hc<<1)+(n?1:0),3),Ha(t),er(t,e),er(t,~e),e&&t.pending_buf.set(t.window.subarray(r,r+e),t.pending),t.pending+=e},Ic=t=>{tt(t,Ra<<1,3),yt(t,mi,Pt),wc(t)},Rc=(t,r,e,n)=>{let i,o,a=0;t.level>0?(t.strm.data_type===2&&(t.strm.data_type=kc(t)),ai(t,t.l_desc),ai(t,t.d_desc),a=Ec(t),i=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=i&&(i=o)):i=o=e+5,e+4<=i&&r!==-1?qa(t,r,e,n):t.strategy===4||o===i?(tt(t,(Ra<<1)+(n?1:0),3),Go(t,Pt,Ke)):(tt(t,(_c<<1)+(n?1:0),3),Tc(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),Go(t,t.dyn_ltree,t.dyn_dtree)),Fa(t),n&&Ha(t)},Ac=(t,r,e)=>(t.pending_buf[t.sym_buf+t.sym_next++]=r,t.pending_buf[t.sym_buf+t.sym_next++]=r>>8,t.pending_buf[t.sym_buf+t.sym_next++]=e,r===0?t.dyn_ltree[e*2]++:(t.matches++,r--,t.dyn_ltree[(tr[e]+ar+1)*2]++,t.dyn_dtree[Ma(r)*2]++),t.sym_next===t.sym_end),Dc=Oc,Pc=qa,Cc=Rc,Uc=Ac,Nc=Ic,Lc={_tr_init:Dc,_tr_stored_block:Pc,_tr_flush_block:Cc,_tr_tally:Uc,_tr_align:Nc},jc=(t,r,e,n)=>{let i=t&65535|0,o=t>>>16&65535|0,a=0;for(;e!==0;){a=e>2e3?2e3:e,e-=a;do i=i+r[n++]|0,o=o+i|0;while(--a);i%=65521,o%=65521}return i|o<<16|0},rr=jc,Mc=()=>{let t,r=[];for(var e=0;e<256;e++){t=e;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;r[e]=t}return r},zc=new Uint32Array(Mc()),Bc=(t,r,e,n)=>{let i=zc,o=n+e;t^=-1;for(let a=n;a<o;a++)t=t>>>8^i[(t^r[a])&255];return t^-1},W=Bc,ie={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ke={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:Fc,_tr_stored_block:si,_tr_flush_block:Hc,_tr_tally:Zt,_tr_align:qc}=Lc,{Z_NO_FLUSH:$t,Z_PARTIAL_FLUSH:Zc,Z_FULL_FLUSH:$c,Z_FINISH:it,Z_BLOCK:Xo,Z_OK:K,Z_STREAM_END:Jo,Z_STREAM_ERROR:bt,Z_DATA_ERROR:Gc,Z_BUF_ERROR:Kn,Z_DEFAULT_COMPRESSION:Wc,Z_FILTERED:Yc,Z_HUFFMAN_ONLY:Ur,Z_RLE:Kc,Z_FIXED:Xc,Z_DEFAULT_STRATEGY:Jc,Z_UNKNOWN:Vc,Z_DEFLATED:qr}=ke,Qc=9,tl=15,el=8,rl=29,nl=256,ui=nl+1+rl,il=30,ol=19,al=2*ui+1,sl=15,k=3,qt=258,wt=qt+k+1,ul=32,Se=42,vi=57,ci=69,li=73,fi=91,di=103,re=113,We=666,X=1,Oe=2,oe=3,Ie=4,cl=3,ne=(t,r)=>(t.msg=ie[r],r),Vo=t=>t*2-(t>4?9:0),Ht=t=>{let r=t.length;for(;--r>=0;)t[r]=0},ll=t=>{let r,e,n,i=t.w_size;r=t.hash_size,n=r;do e=t.head[--n],t.head[n]=e>=i?e-i:0;while(--r);r=i,n=r;do e=t.prev[--n],t.prev[n]=e>=i?e-i:0;while(--r)},fl=(t,r,e)=>(r<<t.hash_shift^e)&t.hash_mask,Gt=fl,et=t=>{let r=t.state,e=r.pending;e>t.avail_out&&(e=t.avail_out),e!==0&&(t.output.set(r.pending_buf.subarray(r.pending_out,r.pending_out+e),t.next_out),t.next_out+=e,r.pending_out+=e,t.total_out+=e,t.avail_out-=e,r.pending-=e,r.pending===0&&(r.pending_out=0))},rt=(t,r)=>{Hc(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,r),t.block_start=t.strstart,et(t.strm)},C=(t,r)=>{t.pending_buf[t.pending++]=r},Ge=(t,r)=>{t.pending_buf[t.pending++]=r>>>8&255,t.pending_buf[t.pending++]=r&255},pi=(t,r,e,n)=>{let i=t.avail_in;return i>n&&(i=n),i===0?0:(t.avail_in-=i,r.set(t.input.subarray(t.next_in,t.next_in+i),e),t.state.wrap===1?t.adler=rr(t.adler,r,i,e):t.state.wrap===2&&(t.adler=W(t.adler,r,i,e)),t.next_in+=i,t.total_in+=i,i)},Za=(t,r)=>{let e=t.max_chain_length,n=t.strstart,i,o,a=t.prev_length,s=t.nice_match,l=t.strstart>t.w_size-wt?t.strstart-(t.w_size-wt):0,u=t.window,c=t.w_mask,d=t.prev,p=t.strstart+qt,f=u[n+a-1],h=u[n+a];t.prev_length>=t.good_match&&(e>>=2),s>t.lookahead&&(s=t.lookahead);do if(i=r,!(u[i+a]!==h||u[i+a-1]!==f||u[i]!==u[n]||u[++i]!==u[n+1])){n+=2,i++;do;while(u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&n<p);if(o=qt-(p-n),n=p-qt,o>a){if(t.match_start=r,a=o,o>=s)break;f=u[n+a-1],h=u[n+a]}}while((r=d[r&c])>l&&--e!==0);return a<=t.lookahead?a:t.lookahead},Ee=t=>{let r=t.w_size,e,n,i;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=r+(r-wt)&&(t.window.set(t.window.subarray(r,r+r-n),0),t.match_start-=r,t.strstart-=r,t.block_start-=r,t.insert>t.strstart&&(t.insert=t.strstart),ll(t),n+=r),t.strm.avail_in===0)break;if(e=pi(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=e,t.lookahead+t.insert>=k)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=Gt(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=Gt(t,t.ins_h,t.window[i+k-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<k)););}while(t.lookahead<wt&&t.strm.avail_in!==0)},$a=(t,r)=>{let e=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,n,i,o,a=0,s=t.strm.avail_in;do{if(n=65535,o=t.bi_valid+42>>3,t.strm.avail_out<o||(o=t.strm.avail_out-o,i=t.strstart-t.block_start,n>i+t.strm.avail_in&&(n=i+t.strm.avail_in),n>o&&(n=o),n<e&&(n===0&&r!==it||r===$t||n!==i+t.strm.avail_in)))break;a=r===it&&n===i+t.strm.avail_in?1:0,si(t,0,0,a),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,et(t.strm),i&&(i>n&&(i=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,n-=i),n&&(pi(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n)}while(a===0);return s-=t.strm.avail_in,s&&(s>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=s&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-s,t.strm.next_in),t.strstart),t.strstart+=s,t.insert+=s>t.w_size-t.insert?t.w_size-t.insert:s),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),a?Ie:r!==$t&&r!==it&&t.strm.avail_in===0&&t.strstart===t.block_start?Oe:(o=t.window_size-t.strstart,t.strm.avail_in>o&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,o+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),o>t.strm.avail_in&&(o=t.strm.avail_in),o&&(pi(t.strm,t.window,t.strstart,o),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.high_water<t.strstart&&(t.high_water=t.strstart),o=t.bi_valid+42>>3,o=t.pending_buf_size-o>65535?65535:t.pending_buf_size-o,e=o>t.w_size?t.w_size:o,i=t.strstart-t.block_start,(i>=e||(i||r===it)&&r!==$t&&t.strm.avail_in===0&&i<=o)&&(n=i>o?o:i,a=r===it&&t.strm.avail_in===0&&n===i?1:0,si(t,t.block_start,n,a),t.block_start+=n,et(t.strm)),a?oe:X)},Xn=(t,r)=>{let e,n;for(;;){if(t.lookahead<wt){if(Ee(t),t.lookahead<wt&&r===$t)return X;if(t.lookahead===0)break}if(e=0,t.lookahead>=k&&(t.ins_h=Gt(t,t.ins_h,t.window[t.strstart+k-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),e!==0&&t.strstart-e<=t.w_size-wt&&(t.match_length=Za(t,e)),t.match_length>=k)if(n=Zt(t,t.strstart-t.match_start,t.match_length-k),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=k){t.match_length--;do t.strstart++,t.ins_h=Gt(t,t.ins_h,t.window[t.strstart+k-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Gt(t,t.ins_h,t.window[t.strstart+1]);else n=Zt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(rt(t,!1),t.strm.avail_out===0))return X}return t.insert=t.strstart<k-1?t.strstart:k-1,r===it?(rt(t,!0),t.strm.avail_out===0?oe:Ie):t.sym_next&&(rt(t,!1),t.strm.avail_out===0)?X:Oe},be=(t,r)=>{let e,n,i;for(;;){if(t.lookahead<wt){if(Ee(t),t.lookahead<wt&&r===$t)return X;if(t.lookahead===0)break}if(e=0,t.lookahead>=k&&(t.ins_h=Gt(t,t.ins_h,t.window[t.strstart+k-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=k-1,e!==0&&t.prev_length<t.max_lazy_match&&t.strstart-e<=t.w_size-wt&&(t.match_length=Za(t,e),t.match_length<=5&&(t.strategy===Yc||t.match_length===k&&t.strstart-t.match_start>4096)&&(t.match_length=k-1)),t.prev_length>=k&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-k,n=Zt(t,t.strstart-1-t.prev_match,t.prev_length-k),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=Gt(t,t.ins_h,t.window[t.strstart+k-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=k-1,t.strstart++,n&&(rt(t,!1),t.strm.avail_out===0))return X}else if(t.match_available){if(n=Zt(t,0,t.window[t.strstart-1]),n&&rt(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return X}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=Zt(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<k-1?t.strstart:k-1,r===it?(rt(t,!0),t.strm.avail_out===0?oe:Ie):t.sym_next&&(rt(t,!1),t.strm.avail_out===0)?X:Oe},dl=(t,r)=>{let e,n,i,o,a=t.window;for(;;){if(t.lookahead<=qt){if(Ee(t),t.lookahead<=qt&&r===$t)return X;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=k&&t.strstart>0&&(i=t.strstart-1,n=a[i],n===a[++i]&&n===a[++i]&&n===a[++i])){o=t.strstart+qt;do;while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<o);t.match_length=qt-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=k?(e=Zt(t,1,t.match_length-k),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(e=Zt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),e&&(rt(t,!1),t.strm.avail_out===0))return X}return t.insert=0,r===it?(rt(t,!0),t.strm.avail_out===0?oe:Ie):t.sym_next&&(rt(t,!1),t.strm.avail_out===0)?X:Oe},pl=(t,r)=>{let e;for(;;){if(t.lookahead===0&&(Ee(t),t.lookahead===0)){if(r===$t)return X;break}if(t.match_length=0,e=Zt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,e&&(rt(t,!1),t.strm.avail_out===0))return X}return t.insert=0,r===it?(rt(t,!0),t.strm.avail_out===0?oe:Ie):t.sym_next&&(rt(t,!1),t.strm.avail_out===0)?X:Oe};function vt(t,r,e,n,i){this.good_length=t,this.max_lazy=r,this.nice_length=e,this.max_chain=n,this.func=i}var Ye=[new vt(0,0,0,0,$a),new vt(4,4,8,4,Xn),new vt(4,5,16,8,Xn),new vt(4,6,32,32,Xn),new vt(4,4,16,16,be),new vt(8,16,32,32,be),new vt(8,16,128,128,be),new vt(8,32,128,256,be),new vt(32,128,258,1024,be),new vt(32,258,258,4096,be)],hl=t=>{t.window_size=2*t.w_size,Ht(t.head),t.max_lazy_match=Ye[t.level].max_lazy,t.good_match=Ye[t.level].good_length,t.nice_match=Ye[t.level].nice_length,t.max_chain_length=Ye[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=k-1,t.match_available=0,t.ins_h=0};function _l(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=qr,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(al*2),this.dyn_dtree=new Uint16Array((2*il+1)*2),this.bl_tree=new Uint16Array((2*ol+1)*2),Ht(this.dyn_ltree),Ht(this.dyn_dtree),Ht(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(sl+1),this.heap=new Uint16Array(2*ui+1),Ht(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*ui+1),Ht(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var sr=t=>{if(!t)return 1;let r=t.state;return!r||r.strm!==t||r.status!==Se&&r.status!==vi&&r.status!==ci&&r.status!==li&&r.status!==fi&&r.status!==di&&r.status!==re&&r.status!==We?1:0},Ga=t=>{if(sr(t))return ne(t,bt);t.total_in=t.total_out=0,t.data_type=Vc;let r=t.state;return r.pending=0,r.pending_out=0,r.wrap<0&&(r.wrap=-r.wrap),r.status=r.wrap===2?vi:r.wrap?Se:re,t.adler=r.wrap===2?0:1,r.last_flush=-2,Fc(r),K},Wa=t=>{let r=Ga(t);return r===K&&hl(t.state),r},ml=(t,r)=>sr(t)||t.state.wrap!==2?bt:(t.state.gzhead=r,K),Ya=(t,r,e,n,i,o)=>{if(!t)return bt;let a=1;if(r===Wc&&(r=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),i<1||i>Qc||e!==qr||n<8||n>15||r<0||r>9||o<0||o>Xc||n===8&&a!==1)return ne(t,bt);n===8&&(n=9);let s=new _l;return t.state=s,s.strm=t,s.status=Se,s.wrap=a,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+k-1)/k),s.window=new Uint8Array(s.w_size*2),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=(s.lit_bufsize-1)*3,s.level=r,s.strategy=o,s.method=e,Wa(t)},gl=(t,r)=>Ya(t,r,qr,tl,el,Jc),vl=(t,r)=>{if(sr(t)||r>Xo||r<0)return t?ne(t,bt):bt;let e=t.state;if(!t.output||t.avail_in!==0&&!t.input||e.status===We&&r!==it)return ne(t,t.avail_out===0?Kn:bt);let n=e.last_flush;if(e.last_flush=r,e.pending!==0){if(et(t),t.avail_out===0)return e.last_flush=-1,K}else if(t.avail_in===0&&Vo(r)<=Vo(n)&&r!==it)return ne(t,Kn);if(e.status===We&&t.avail_in!==0)return ne(t,Kn);if(e.status===Se&&e.wrap===0&&(e.status=re),e.status===Se){let i=qr+(e.w_bits-8<<4)<<8,o=-1;if(e.strategy>=Ur||e.level<2?o=0:e.level<6?o=1:e.level===6?o=2:o=3,i|=o<<6,e.strstart!==0&&(i|=ul),i+=31-i%31,Ge(e,i),e.strstart!==0&&(Ge(e,t.adler>>>16),Ge(e,t.adler&65535)),t.adler=1,e.status=re,et(t),e.pending!==0)return e.last_flush=-1,K}if(e.status===vi){if(t.adler=0,C(e,31),C(e,139),C(e,8),e.gzhead)C(e,(e.gzhead.text?1:0)+(e.gzhead.hcrc?2:0)+(e.gzhead.extra?4:0)+(e.gzhead.name?8:0)+(e.gzhead.comment?16:0)),C(e,e.gzhead.time&255),C(e,e.gzhead.time>>8&255),C(e,e.gzhead.time>>16&255),C(e,e.gzhead.time>>24&255),C(e,e.level===9?2:e.strategy>=Ur||e.level<2?4:0),C(e,e.gzhead.os&255),e.gzhead.extra&&e.gzhead.extra.length&&(C(e,e.gzhead.extra.length&255),C(e,e.gzhead.extra.length>>8&255)),e.gzhead.hcrc&&(t.adler=W(t.adler,e.pending_buf,e.pending,0)),e.gzindex=0,e.status=ci;else if(C(e,0),C(e,0),C(e,0),C(e,0),C(e,0),C(e,e.level===9?2:e.strategy>=Ur||e.level<2?4:0),C(e,cl),e.status=re,et(t),e.pending!==0)return e.last_flush=-1,K}if(e.status===ci){if(e.gzhead.extra){let i=e.pending,o=(e.gzhead.extra.length&65535)-e.gzindex;for(;e.pending+o>e.pending_buf_size;){let s=e.pending_buf_size-e.pending;if(e.pending_buf.set(e.gzhead.extra.subarray(e.gzindex,e.gzindex+s),e.pending),e.pending=e.pending_buf_size,e.gzhead.hcrc&&e.pending>i&&(t.adler=W(t.adler,e.pending_buf,e.pending-i,i)),e.gzindex+=s,et(t),e.pending!==0)return e.last_flush=-1,K;i=0,o-=s}let a=new Uint8Array(e.gzhead.extra);e.pending_buf.set(a.subarray(e.gzindex,e.gzindex+o),e.pending),e.pending+=o,e.gzhead.hcrc&&e.pending>i&&(t.adler=W(t.adler,e.pending_buf,e.pending-i,i)),e.gzindex=0}e.status=li}if(e.status===li){if(e.gzhead.name){let i=e.pending,o;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>i&&(t.adler=W(t.adler,e.pending_buf,e.pending-i,i)),et(t),e.pending!==0)return e.last_flush=-1,K;i=0}e.gzindex<e.gzhead.name.length?o=e.gzhead.name.charCodeAt(e.gzindex++)&255:o=0,C(e,o)}while(o!==0);e.gzhead.hcrc&&e.pending>i&&(t.adler=W(t.adler,e.pending_buf,e.pending-i,i)),e.gzindex=0}e.status=fi}if(e.status===fi){if(e.gzhead.comment){let i=e.pending,o;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>i&&(t.adler=W(t.adler,e.pending_buf,e.pending-i,i)),et(t),e.pending!==0)return e.last_flush=-1,K;i=0}e.gzindex<e.gzhead.comment.length?o=e.gzhead.comment.charCodeAt(e.gzindex++)&255:o=0,C(e,o)}while(o!==0);e.gzhead.hcrc&&e.pending>i&&(t.adler=W(t.adler,e.pending_buf,e.pending-i,i))}e.status=di}if(e.status===di){if(e.gzhead.hcrc){if(e.pending+2>e.pending_buf_size&&(et(t),e.pending!==0))return e.last_flush=-1,K;C(e,t.adler&255),C(e,t.adler>>8&255),t.adler=0}if(e.status=re,et(t),e.pending!==0)return e.last_flush=-1,K}if(t.avail_in!==0||e.lookahead!==0||r!==$t&&e.status!==We){let i=e.level===0?$a(e,r):e.strategy===Ur?pl(e,r):e.strategy===Kc?dl(e,r):Ye[e.level].func(e,r);if((i===oe||i===Ie)&&(e.status=We),i===X||i===oe)return t.avail_out===0&&(e.last_flush=-1),K;if(i===Oe&&(r===Zc?qc(e):r!==Xo&&(si(e,0,0,!1),r===$c&&(Ht(e.head),e.lookahead===0&&(e.strstart=0,e.block_start=0,e.insert=0))),et(t),t.avail_out===0))return e.last_flush=-1,K}return r!==it?K:e.wrap<=0?Jo:(e.wrap===2?(C(e,t.adler&255),C(e,t.adler>>8&255),C(e,t.adler>>16&255),C(e,t.adler>>24&255),C(e,t.total_in&255),C(e,t.total_in>>8&255),C(e,t.total_in>>16&255),C(e,t.total_in>>24&255)):(Ge(e,t.adler>>>16),Ge(e,t.adler&65535)),et(t),e.wrap>0&&(e.wrap=-e.wrap),e.pending!==0?K:Jo)},yl=t=>{if(sr(t))return bt;let r=t.state.status;return t.state=null,r===re?ne(t,Gc):K},bl=(t,r)=>{let e=r.length;if(sr(t))return bt;let n=t.state,i=n.wrap;if(i===2||i===1&&n.status!==Se||n.lookahead)return bt;if(i===1&&(t.adler=rr(t.adler,r,e,0)),n.wrap=0,e>=n.w_size){i===0&&(Ht(n.head),n.strstart=0,n.block_start=0,n.insert=0);let l=new Uint8Array(n.w_size);l.set(r.subarray(e-n.w_size,e),0),r=l,e=n.w_size}let o=t.avail_in,a=t.next_in,s=t.input;for(t.avail_in=e,t.next_in=0,t.input=r,Ee(n);n.lookahead>=k;){let l=n.strstart,u=n.lookahead-(k-1);do n.ins_h=Gt(n,n.ins_h,n.window[l+k-1]),n.prev[l&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=l,l++;while(--u);n.strstart=l,n.lookahead=k-1,Ee(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=k-1,n.match_available=0,t.next_in=a,t.input=s,t.avail_in=o,n.wrap=i,K},wl=gl,xl=Ya,Sl=Wa,El=Ga,Tl=ml,kl=vl,Ol=yl,Il=bl,Rl="pako deflate (from Nodeca project)",Xe={deflateInit:wl,deflateInit2:xl,deflateReset:Sl,deflateResetKeep:El,deflateSetHeader:Tl,deflate:kl,deflateEnd:Ol,deflateSetDictionary:Il,deflateInfo:Rl},Al=(t,r)=>Object.prototype.hasOwnProperty.call(t,r),Dl=function(t){let r=Array.prototype.slice.call(arguments,1);for(;r.length;){let e=r.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(let n in e)Al(e,n)&&(t[n]=e[n])}}return t},Pl=t=>{let r=0;for(let n=0,i=t.length;n<i;n++)r+=t[n].length;let e=new Uint8Array(r);for(let n=0,i=0,o=t.length;n<o;n++){let a=t[n];e.set(a,i),i+=a.length}return e},Zr={assign:Dl,flattenChunks:Pl},Ka=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Ka=!1}var nr=new Uint8Array(256);for(let t=0;t<256;t++)nr[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;nr[254]=nr[254]=1;var Cl=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let r,e,n,i,o,a=t.length,s=0;for(i=0;i<a;i++)e=t.charCodeAt(i),(e&64512)===55296&&i+1<a&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),i++)),s+=e<128?1:e<2048?2:e<65536?3:4;for(r=new Uint8Array(s),o=0,i=0;o<s;i++)e=t.charCodeAt(i),(e&64512)===55296&&i+1<a&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),i++)),e<128?r[o++]=e:e<2048?(r[o++]=192|e>>>6,r[o++]=128|e&63):e<65536?(r[o++]=224|e>>>12,r[o++]=128|e>>>6&63,r[o++]=128|e&63):(r[o++]=240|e>>>18,r[o++]=128|e>>>12&63,r[o++]=128|e>>>6&63,r[o++]=128|e&63);return r},Ul=(t,r)=>{if(r<65534&&t.subarray&&Ka)return String.fromCharCode.apply(null,t.length===r?t:t.subarray(0,r));let e="";for(let n=0;n<r;n++)e+=String.fromCharCode(t[n]);return e},Nl=(t,r)=>{let e=r||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,r));let n,i,o=new Array(e*2);for(i=0,n=0;n<e;){let a=t[n++];if(a<128){o[i++]=a;continue}let s=nr[a];if(s>4){o[i++]=65533,n+=s-1;continue}for(a&=s===2?31:s===3?15:7;s>1&&n<e;)a=a<<6|t[n++]&63,s--;if(s>1){o[i++]=65533;continue}a<65536?o[i++]=a:(a-=65536,o[i++]=55296|a>>10&1023,o[i++]=56320|a&1023)}return Ul(o,i)},Ll=(t,r)=>{r=r||t.length,r>t.length&&(r=t.length);let e=r-1;for(;e>=0&&(t[e]&192)===128;)e--;return e<0||e===0?r:e+nr[t[e]]>r?e:r},ir={string2buf:Cl,buf2string:Nl,utf8border:Ll};function jl(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Xa=jl,Ja=Object.prototype.toString,{Z_NO_FLUSH:Ml,Z_SYNC_FLUSH:zl,Z_FULL_FLUSH:Bl,Z_FINISH:Fl,Z_OK:Fr,Z_STREAM_END:Hl,Z_DEFAULT_COMPRESSION:ql,Z_DEFAULT_STRATEGY:Zl,Z_DEFLATED:$l}=ke;function ur(t){this.options=Zr.assign({level:ql,method:$l,chunkSize:16384,windowBits:15,memLevel:8,strategy:Zl},t||{});let r=this.options;r.raw&&r.windowBits>0?r.windowBits=-r.windowBits:r.gzip&&r.windowBits>0&&r.windowBits<16&&(r.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Xa,this.strm.avail_out=0;let e=Xe.deflateInit2(this.strm,r.level,r.method,r.windowBits,r.memLevel,r.strategy);if(e!==Fr)throw new Error(ie[e]);if(r.header&&Xe.deflateSetHeader(this.strm,r.header),r.dictionary){let n;if(typeof r.dictionary=="string"?n=ir.string2buf(r.dictionary):Ja.call(r.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(r.dictionary):n=r.dictionary,e=Xe.deflateSetDictionary(this.strm,n),e!==Fr)throw new Error(ie[e]);this._dict_set=!0}}ur.prototype.push=function(t,r){let e=this.strm,n=this.options.chunkSize,i,o;if(this.ended)return!1;for(r===~~r?o=r:o=r===!0?Fl:Ml,typeof t=="string"?e.input=ir.string2buf(t):Ja.call(t)==="[object ArrayBuffer]"?e.input=new Uint8Array(t):e.input=t,e.next_in=0,e.avail_in=e.input.length;;){if(e.avail_out===0&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),(o===zl||o===Bl)&&e.avail_out<=6){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(i=Xe.deflate(e,o),i===Hl)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),i=Xe.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Fr;if(e.avail_out===0){this.onData(e.output);continue}if(o>0&&e.next_out>0){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(e.avail_in===0)break}return!0};ur.prototype.onData=function(t){this.chunks.push(t)};ur.prototype.onEnd=function(t){t===Fr&&(this.result=Zr.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function yi(t,r){let e=new ur(r);if(e.push(t,!0),e.err)throw e.msg||ie[e.err];return e.result}function Gl(t,r){return r=r||{},r.raw=!0,yi(t,r)}function Wl(t,r){return r=r||{},r.gzip=!0,yi(t,r)}var Yl=ur,Kl=yi,Xl=Gl,Jl=Wl,Vl=ke,Ql={Deflate:Yl,deflate:Kl,deflateRaw:Xl,gzip:Jl,constants:Vl},Nr=16209,tf=16191,ef=function(r,e){let n,i,o,a,s,l,u,c,d,p,f,h,I,b,g,A,x,_,P,$,v,L,O,w,E=r.state;n=r.next_in,O=r.input,i=n+(r.avail_in-5),o=r.next_out,w=r.output,a=o-(e-r.avail_out),s=o+(r.avail_out-257),l=E.dmax,u=E.wsize,c=E.whave,d=E.wnext,p=E.window,f=E.hold,h=E.bits,I=E.lencode,b=E.distcode,g=(1<<E.lenbits)-1,A=(1<<E.distbits)-1;t:do{h<15&&(f+=O[n++]<<h,h+=8,f+=O[n++]<<h,h+=8),x=I[f&g];e:for(;;){if(_=x>>>24,f>>>=_,h-=_,_=x>>>16&255,_===0)w[o++]=x&65535;else if(_&16){P=x&65535,_&=15,_&&(h<_&&(f+=O[n++]<<h,h+=8),P+=f&(1<<_)-1,f>>>=_,h-=_),h<15&&(f+=O[n++]<<h,h+=8,f+=O[n++]<<h,h+=8),x=b[f&A];r:for(;;){if(_=x>>>24,f>>>=_,h-=_,_=x>>>16&255,_&16){if($=x&65535,_&=15,h<_&&(f+=O[n++]<<h,h+=8,h<_&&(f+=O[n++]<<h,h+=8)),$+=f&(1<<_)-1,$>l){r.msg="invalid distance too far back",E.mode=Nr;break t}if(f>>>=_,h-=_,_=o-a,$>_){if(_=$-_,_>c&&E.sane){r.msg="invalid distance too far back",E.mode=Nr;break t}if(v=0,L=p,d===0){if(v+=u-_,_<P){P-=_;do w[o++]=p[v++];while(--_);v=o-$,L=w}}else if(d<_){if(v+=u+d-_,_-=d,_<P){P-=_;do w[o++]=p[v++];while(--_);if(v=0,d<P){_=d,P-=_;do w[o++]=p[v++];while(--_);v=o-$,L=w}}}else if(v+=d-_,_<P){P-=_;do w[o++]=p[v++];while(--_);v=o-$,L=w}for(;P>2;)w[o++]=L[v++],w[o++]=L[v++],w[o++]=L[v++],P-=3;P&&(w[o++]=L[v++],P>1&&(w[o++]=L[v++]))}else{v=o-$;do w[o++]=w[v++],w[o++]=w[v++],w[o++]=w[v++],P-=3;while(P>2);P&&(w[o++]=w[v++],P>1&&(w[o++]=w[v++]))}}else if(_&64){r.msg="invalid distance code",E.mode=Nr;break t}else{x=b[(x&65535)+(f&(1<<_)-1)];continue r}break}}else if(_&64)if(_&32){E.mode=tf;break t}else{r.msg="invalid literal/length code",E.mode=Nr;break t}else{x=I[(x&65535)+(f&(1<<_)-1)];continue e}break}}while(n<i&&o<s);P=h>>3,n-=P,h-=P<<3,f&=(1<<h)-1,r.next_in=n,r.next_out=o,r.avail_in=n<i?5+(i-n):5-(n-i),r.avail_out=o<s?257+(s-o):257-(o-s),E.hold=f,E.bits=h},we=15,Qo=852,ta=592,ea=0,Jn=1,ra=2,rf=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),nf=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),of=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),af=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),sf=(t,r,e,n,i,o,a,s)=>{let l=s.bits,u=0,c=0,d=0,p=0,f=0,h=0,I=0,b=0,g=0,A=0,x,_,P,$,v,L=null,O,w=new Uint16Array(we+1),E=new Uint16Array(we+1),Wt=null,Ei,lr,fr;for(u=0;u<=we;u++)w[u]=0;for(c=0;c<n;c++)w[r[e+c]]++;for(f=l,p=we;p>=1&&w[p]===0;p--);if(f>p&&(f=p),p===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,s.bits=1,0;for(d=1;d<p&&w[d]===0;d++);for(f<d&&(f=d),b=1,u=1;u<=we;u++)if(b<<=1,b-=w[u],b<0)return-1;if(b>0&&(t===ea||p!==1))return-1;for(E[1]=0,u=1;u<we;u++)E[u+1]=E[u]+w[u];for(c=0;c<n;c++)r[e+c]!==0&&(a[E[r[e+c]]++]=c);if(t===ea?(L=Wt=a,O=20):t===Jn?(L=rf,Wt=nf,O=257):(L=of,Wt=af,O=0),A=0,c=0,u=d,v=o,h=f,I=0,P=-1,g=1<<f,$=g-1,t===Jn&&g>Qo||t===ra&&g>ta)return 1;for(;;){Ei=u-I,a[c]+1<O?(lr=0,fr=a[c]):a[c]>=O?(lr=Wt[a[c]-O],fr=L[a[c]-O]):(lr=96,fr=0),x=1<<u-I,_=1<<h,d=_;do _-=x,i[v+(A>>I)+_]=Ei<<24|lr<<16|fr|0;while(_!==0);for(x=1<<u-1;A&x;)x>>=1;if(x!==0?(A&=x-1,A+=x):A=0,c++,--w[u]===0){if(u===p)break;u=r[e+a[c]]}if(u>f&&(A&$)!==P){for(I===0&&(I=f),v+=d,h=u-I,b=1<<h;h+I<p&&(b-=w[h+I],!(b<=0));)h++,b<<=1;if(g+=1<<h,t===Jn&&g>Qo||t===ra&&g>ta)return 1;P=A&$,i[P]=f<<24|h<<16|v-o|0}}return A!==0&&(i[v+A]=u-I<<24|64<<16|0),s.bits=f,0},Je=sf,uf=0,Va=1,Qa=2,{Z_FINISH:na,Z_BLOCK:cf,Z_TREES:Lr,Z_OK:ae,Z_STREAM_END:lf,Z_NEED_DICT:ff,Z_STREAM_ERROR:ot,Z_DATA_ERROR:ts,Z_MEM_ERROR:es,Z_BUF_ERROR:df,Z_DEFLATED:ia}=ke,$r=16180,oa=16181,aa=16182,sa=16183,ua=16184,ca=16185,la=16186,fa=16187,da=16188,pa=16189,Hr=16190,Dt=16191,Vn=16192,ha=16193,Qn=16194,_a=16195,ma=16196,ga=16197,va=16198,jr=16199,Mr=16200,ya=16201,ba=16202,wa=16203,xa=16204,Sa=16205,ti=16206,Ea=16207,Ta=16208,B=16209,rs=16210,ns=16211,pf=852,hf=592,_f=15,mf=_f,ka=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function gf(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var se=t=>{if(!t)return 1;let r=t.state;return!r||r.strm!==t||r.mode<$r||r.mode>ns?1:0},is=t=>{if(se(t))return ot;let r=t.state;return t.total_in=t.total_out=r.total=0,t.msg="",r.wrap&&(t.adler=r.wrap&1),r.mode=$r,r.last=0,r.havedict=0,r.flags=-1,r.dmax=32768,r.head=null,r.hold=0,r.bits=0,r.lencode=r.lendyn=new Int32Array(pf),r.distcode=r.distdyn=new Int32Array(hf),r.sane=1,r.back=-1,ae},os=t=>{if(se(t))return ot;let r=t.state;return r.wsize=0,r.whave=0,r.wnext=0,is(t)},as=(t,r)=>{let e;if(se(t))return ot;let n=t.state;return r<0?(e=0,r=-r):(e=(r>>4)+5,r<48&&(r&=15)),r&&(r<8||r>15)?ot:(n.window!==null&&n.wbits!==r&&(n.window=null),n.wrap=e,n.wbits=r,os(t))},ss=(t,r)=>{if(!t)return ot;let e=new gf;t.state=e,e.strm=t,e.window=null,e.mode=$r;let n=as(t,r);return n!==ae&&(t.state=null),n},vf=t=>ss(t,mf),Oa=!0,ei,ri,yf=t=>{if(Oa){ei=new Int32Array(512),ri=new Int32Array(32);let r=0;for(;r<144;)t.lens[r++]=8;for(;r<256;)t.lens[r++]=9;for(;r<280;)t.lens[r++]=7;for(;r<288;)t.lens[r++]=8;for(Je(Va,t.lens,0,288,ei,0,t.work,{bits:9}),r=0;r<32;)t.lens[r++]=5;Je(Qa,t.lens,0,32,ri,0,t.work,{bits:5}),Oa=!1}t.lencode=ei,t.lenbits=9,t.distcode=ri,t.distbits=5},us=(t,r,e,n)=>{let i,o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(r.subarray(e-o.wsize,e),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>n&&(i=n),o.window.set(r.subarray(e-n,e-n+i),o.wnext),n-=i,n?(o.window.set(r.subarray(e-n,e),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},bf=(t,r)=>{let e,n,i,o,a,s,l,u,c,d,p,f,h,I,b=0,g,A,x,_,P,$,v,L,O=new Uint8Array(4),w,E,Wt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(se(t)||!t.output||!t.input&&t.avail_in!==0)return ot;e=t.state,e.mode===Dt&&(e.mode=Vn),a=t.next_out,i=t.output,l=t.avail_out,o=t.next_in,n=t.input,s=t.avail_in,u=e.hold,c=e.bits,d=s,p=l,L=ae;t:for(;;)switch(e.mode){case $r:if(e.wrap===0){e.mode=Vn;break}for(;c<16;){if(s===0)break t;s--,u+=n[o++]<<c,c+=8}if(e.wrap&2&&u===35615){e.wbits===0&&(e.wbits=15),e.check=0,O[0]=u&255,O[1]=u>>>8&255,e.check=W(e.check,O,2,0),u=0,c=0,e.mode=oa;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",e.mode=B;break}if((u&15)!==ia){t.msg="unknown compression method",e.mode=B;break}if(u>>>=4,c-=4,v=(u&15)+8,e.wbits===0&&(e.wbits=v),v>15||v>e.wbits){t.msg="invalid window size",e.mode=B;break}e.dmax=1<<e.wbits,e.flags=0,t.adler=e.check=1,e.mode=u&512?pa:Dt,u=0,c=0;break;case oa:for(;c<16;){if(s===0)break t;s--,u+=n[o++]<<c,c+=8}if(e.flags=u,(e.flags&255)!==ia){t.msg="unknown compression method",e.mode=B;break}if(e.flags&57344){t.msg="unknown header flags set",e.mode=B;break}e.head&&(e.head.text=u>>8&1),e.flags&512&&e.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,e.check=W(e.check,O,2,0)),u=0,c=0,e.mode=aa;case aa:for(;c<32;){if(s===0)break t;s--,u+=n[o++]<<c,c+=8}e.head&&(e.head.time=u),e.flags&512&&e.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,O[2]=u>>>16&255,O[3]=u>>>24&255,e.check=W(e.check,O,4,0)),u=0,c=0,e.mode=sa;case sa:for(;c<16;){if(s===0)break t;s--,u+=n[o++]<<c,c+=8}e.head&&(e.head.xflags=u&255,e.head.os=u>>8),e.flags&512&&e.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,e.check=W(e.check,O,2,0)),u=0,c=0,e.mode=ua;case ua:if(e.flags&1024){for(;c<16;){if(s===0)break t;s--,u+=n[o++]<<c,c+=8}e.length=u,e.head&&(e.head.extra_len=u),e.flags&512&&e.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,e.check=W(e.check,O,2,0)),u=0,c=0}else e.head&&(e.head.extra=null);e.mode=ca;case ca:if(e.flags&1024&&(f=e.length,f>s&&(f=s),f&&(e.head&&(v=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(n.subarray(o,o+f),v)),e.flags&512&&e.wrap&4&&(e.check=W(e.check,n,f,o)),s-=f,o+=f,e.length-=f),e.length))break t;e.length=0,e.mode=la;case la:if(e.flags&2048){if(s===0)break t;f=0;do v=n[o+f++],e.head&&v&&e.length<65536&&(e.head.name+=String.fromCharCode(v));while(v&&f<s);if(e.flags&512&&e.wrap&4&&(e.check=W(e.check,n,f,o)),s-=f,o+=f,v)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=fa;case fa:if(e.flags&4096){if(s===0)break t;f=0;do v=n[o+f++],e.head&&v&&e.length<65536&&(e.head.comment+=String.fromCharCode(v));while(v&&f<s);if(e.flags&512&&e.wrap&4&&(e.check=W(e.check,n,f,o)),s-=f,o+=f,v)break t}else e.head&&(e.head.comment=null);e.mode=da;case da:if(e.flags&512){for(;c<16;){if(s===0)break t;s--,u+=n[o++]<<c,c+=8}if(e.wrap&4&&u!==(e.check&65535)){t.msg="header crc mismatch",e.mode=B;break}u=0,c=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),t.adler=e.check=0,e.mode=Dt;break;case pa:for(;c<32;){if(s===0)break t;s--,u+=n[o++]<<c,c+=8}t.adler=e.check=ka(u),u=0,c=0,e.mode=Hr;case Hr:if(e.havedict===0)return t.next_out=a,t.avail_out=l,t.next_in=o,t.avail_in=s,e.hold=u,e.bits=c,ff;t.adler=e.check=1,e.mode=Dt;case Dt:if(r===cf||r===Lr)break t;case Vn:if(e.last){u>>>=c&7,c-=c&7,e.mode=ti;break}for(;c<3;){if(s===0)break t;s--,u+=n[o++]<<c,c+=8}switch(e.last=u&1,u>>>=1,c-=1,u&3){case 0:e.mode=ha;break;case 1:if(yf(e),e.mode=jr,r===Lr){u>>>=2,c-=2;break t}break;case 2:e.mode=ma;break;case 3:t.msg="invalid block type",e.mode=B}u>>>=2,c-=2;break;case ha:for(u>>>=c&7,c-=c&7;c<32;){if(s===0)break t;s--,u+=n[o++]<<c,c+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",e.mode=B;break}if(e.length=u&65535,u=0,c=0,e.mode=Qn,r===Lr)break t;case Qn:e.mode=_a;case _a:if(f=e.length,f){if(f>s&&(f=s),f>l&&(f=l),f===0)break t;i.set(n.subarray(o,o+f),a),s-=f,o+=f,l-=f,a+=f,e.length-=f;break}e.mode=Dt;break;case ma:for(;c<14;){if(s===0)break t;s--,u+=n[o++]<<c,c+=8}if(e.nlen=(u&31)+257,u>>>=5,c-=5,e.ndist=(u&31)+1,u>>>=5,c-=5,e.ncode=(u&15)+4,u>>>=4,c-=4,e.nlen>286||e.ndist>30){t.msg="too many length or distance symbols",e.mode=B;break}e.have=0,e.mode=ga;case ga:for(;e.have<e.ncode;){for(;c<3;){if(s===0)break t;s--,u+=n[o++]<<c,c+=8}e.lens[Wt[e.have++]]=u&7,u>>>=3,c-=3}for(;e.have<19;)e.lens[Wt[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,w={bits:e.lenbits},L=Je(uf,e.lens,0,19,e.lencode,0,e.work,w),e.lenbits=w.bits,L){t.msg="invalid code lengths set",e.mode=B;break}e.have=0,e.mode=va;case va:for(;e.have<e.nlen+e.ndist;){for(;b=e.lencode[u&(1<<e.lenbits)-1],g=b>>>24,A=b>>>16&255,x=b&65535,!(g<=c);){if(s===0)break t;s--,u+=n[o++]<<c,c+=8}if(x<16)u>>>=g,c-=g,e.lens[e.have++]=x;else{if(x===16){for(E=g+2;c<E;){if(s===0)break t;s--,u+=n[o++]<<c,c+=8}if(u>>>=g,c-=g,e.have===0){t.msg="invalid bit length repeat",e.mode=B;break}v=e.lens[e.have-1],f=3+(u&3),u>>>=2,c-=2}else if(x===17){for(E=g+3;c<E;){if(s===0)break t;s--,u+=n[o++]<<c,c+=8}u>>>=g,c-=g,v=0,f=3+(u&7),u>>>=3,c-=3}else{for(E=g+7;c<E;){if(s===0)break t;s--,u+=n[o++]<<c,c+=8}u>>>=g,c-=g,v=0,f=11+(u&127),u>>>=7,c-=7}if(e.have+f>e.nlen+e.ndist){t.msg="invalid bit length repeat",e.mode=B;break}for(;f--;)e.lens[e.have++]=v}}if(e.mode===B)break;if(e.lens[256]===0){t.msg="invalid code -- missing end-of-block",e.mode=B;break}if(e.lenbits=9,w={bits:e.lenbits},L=Je(Va,e.lens,0,e.nlen,e.lencode,0,e.work,w),e.lenbits=w.bits,L){t.msg="invalid literal/lengths set",e.mode=B;break}if(e.distbits=6,e.distcode=e.distdyn,w={bits:e.distbits},L=Je(Qa,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,w),e.distbits=w.bits,L){t.msg="invalid distances set",e.mode=B;break}if(e.mode=jr,r===Lr)break t;case jr:e.mode=Mr;case Mr:if(s>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=o,t.avail_in=s,e.hold=u,e.bits=c,ef(t,p),a=t.next_out,i=t.output,l=t.avail_out,o=t.next_in,n=t.input,s=t.avail_in,u=e.hold,c=e.bits,e.mode===Dt&&(e.back=-1);break}for(e.back=0;b=e.lencode[u&(1<<e.lenbits)-1],g=b>>>24,A=b>>>16&255,x=b&65535,!(g<=c);){if(s===0)break t;s--,u+=n[o++]<<c,c+=8}if(A&&!(A&240)){for(_=g,P=A,$=x;b=e.lencode[$+((u&(1<<_+P)-1)>>_)],g=b>>>24,A=b>>>16&255,x=b&65535,!(_+g<=c);){if(s===0)break t;s--,u+=n[o++]<<c,c+=8}u>>>=_,c-=_,e.back+=_}if(u>>>=g,c-=g,e.back+=g,e.length=x,A===0){e.mode=Sa;break}if(A&32){e.back=-1,e.mode=Dt;break}if(A&64){t.msg="invalid literal/length code",e.mode=B;break}e.extra=A&15,e.mode=ya;case ya:if(e.extra){for(E=e.extra;c<E;){if(s===0)break t;s--,u+=n[o++]<<c,c+=8}e.length+=u&(1<<e.extra)-1,u>>>=e.extra,c-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=ba;case ba:for(;b=e.distcode[u&(1<<e.distbits)-1],g=b>>>24,A=b>>>16&255,x=b&65535,!(g<=c);){if(s===0)break t;s--,u+=n[o++]<<c,c+=8}if(!(A&240)){for(_=g,P=A,$=x;b=e.distcode[$+((u&(1<<_+P)-1)>>_)],g=b>>>24,A=b>>>16&255,x=b&65535,!(_+g<=c);){if(s===0)break t;s--,u+=n[o++]<<c,c+=8}u>>>=_,c-=_,e.back+=_}if(u>>>=g,c-=g,e.back+=g,A&64){t.msg="invalid distance code",e.mode=B;break}e.offset=x,e.extra=A&15,e.mode=wa;case wa:if(e.extra){for(E=e.extra;c<E;){if(s===0)break t;s--,u+=n[o++]<<c,c+=8}e.offset+=u&(1<<e.extra)-1,u>>>=e.extra,c-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){t.msg="invalid distance too far back",e.mode=B;break}e.mode=xa;case xa:if(l===0)break t;if(f=p-l,e.offset>f){if(f=e.offset-f,f>e.whave&&e.sane){t.msg="invalid distance too far back",e.mode=B;break}f>e.wnext?(f-=e.wnext,h=e.wsize-f):h=e.wnext-f,f>e.length&&(f=e.length),I=e.window}else I=i,h=a-e.offset,f=e.length;f>l&&(f=l),l-=f,e.length-=f;do i[a++]=I[h++];while(--f);e.length===0&&(e.mode=Mr);break;case Sa:if(l===0)break t;i[a++]=e.length,l--,e.mode=Mr;break;case ti:if(e.wrap){for(;c<32;){if(s===0)break t;s--,u|=n[o++]<<c,c+=8}if(p-=l,t.total_out+=p,e.total+=p,e.wrap&4&&p&&(t.adler=e.check=e.flags?W(e.check,i,p,a-p):rr(e.check,i,p,a-p)),p=l,e.wrap&4&&(e.flags?u:ka(u))!==e.check){t.msg="incorrect data check",e.mode=B;break}u=0,c=0}e.mode=Ea;case Ea:if(e.wrap&&e.flags){for(;c<32;){if(s===0)break t;s--,u+=n[o++]<<c,c+=8}if(e.wrap&4&&u!==(e.total&4294967295)){t.msg="incorrect length check",e.mode=B;break}u=0,c=0}e.mode=Ta;case Ta:L=lf;break t;case B:L=ts;break t;case rs:return es;case ns:default:return ot}return t.next_out=a,t.avail_out=l,t.next_in=o,t.avail_in=s,e.hold=u,e.bits=c,(e.wsize||p!==t.avail_out&&e.mode<B&&(e.mode<ti||r!==na))&&us(t,t.output,t.next_out,p-t.avail_out),d-=t.avail_in,p-=t.avail_out,t.total_in+=d,t.total_out+=p,e.total+=p,e.wrap&4&&p&&(t.adler=e.check=e.flags?W(e.check,i,p,t.next_out-p):rr(e.check,i,p,t.next_out-p)),t.data_type=e.bits+(e.last?64:0)+(e.mode===Dt?128:0)+(e.mode===jr||e.mode===Qn?256:0),(d===0&&p===0||r===na)&&L===ae&&(L=df),L},wf=t=>{if(se(t))return ot;let r=t.state;return r.window&&(r.window=null),t.state=null,ae},xf=(t,r)=>{if(se(t))return ot;let e=t.state;return e.wrap&2?(e.head=r,r.done=!1,ae):ot},Sf=(t,r)=>{let e=r.length,n,i,o;return se(t)||(n=t.state,n.wrap!==0&&n.mode!==Hr)?ot:n.mode===Hr&&(i=1,i=rr(i,r,e,0),i!==n.check)?ts:(o=us(t,r,e,e),o?(n.mode=rs,es):(n.havedict=1,ae))},Ef=os,Tf=as,kf=is,Of=vf,If=ss,Rf=bf,Af=wf,Df=xf,Pf=Sf,Cf="pako inflate (from Nodeca project)",Ct={inflateReset:Ef,inflateReset2:Tf,inflateResetKeep:kf,inflateInit:Of,inflateInit2:If,inflate:Rf,inflateEnd:Af,inflateGetHeader:Df,inflateSetDictionary:Pf,inflateInfo:Cf};function Uf(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Nf=Uf,cs=Object.prototype.toString,{Z_NO_FLUSH:Lf,Z_FINISH:jf,Z_OK:or,Z_STREAM_END:ni,Z_NEED_DICT:ii,Z_STREAM_ERROR:Mf,Z_DATA_ERROR:Ia,Z_MEM_ERROR:zf}=ke;function cr(t){this.options=Zr.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});let r=this.options;r.raw&&r.windowBits>=0&&r.windowBits<16&&(r.windowBits=-r.windowBits,r.windowBits===0&&(r.windowBits=-15)),r.windowBits>=0&&r.windowBits<16&&!(t&&t.windowBits)&&(r.windowBits+=32),r.windowBits>15&&r.windowBits<48&&(r.windowBits&15||(r.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Xa,this.strm.avail_out=0;let e=Ct.inflateInit2(this.strm,r.windowBits);if(e!==or)throw new Error(ie[e]);if(this.header=new Nf,Ct.inflateGetHeader(this.strm,this.header),r.dictionary&&(typeof r.dictionary=="string"?r.dictionary=ir.string2buf(r.dictionary):cs.call(r.dictionary)==="[object ArrayBuffer]"&&(r.dictionary=new Uint8Array(r.dictionary)),r.raw&&(e=Ct.inflateSetDictionary(this.strm,r.dictionary),e!==or)))throw new Error(ie[e])}cr.prototype.push=function(t,r){let e=this.strm,n=this.options.chunkSize,i=this.options.dictionary,o,a,s;if(this.ended)return!1;for(r===~~r?a=r:a=r===!0?jf:Lf,cs.call(t)==="[object ArrayBuffer]"?e.input=new Uint8Array(t):e.input=t,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),o=Ct.inflate(e,a),o===ii&&i&&(o=Ct.inflateSetDictionary(e,i),o===or?o=Ct.inflate(e,a):o===Ia&&(o=ii));e.avail_in>0&&o===ni&&e.state.wrap>0&&t[e.next_in]!==0;)Ct.inflateReset(e),o=Ct.inflate(e,a);switch(o){case Mf:case Ia:case ii:case zf:return this.onEnd(o),this.ended=!0,!1}if(s=e.avail_out,e.next_out&&(e.avail_out===0||o===ni))if(this.options.to==="string"){let l=ir.utf8border(e.output,e.next_out),u=e.next_out-l,c=ir.buf2string(e.output,l);e.next_out=u,e.avail_out=n-u,u&&e.output.set(e.output.subarray(l,l+u),0),this.onData(c)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(o===or&&s===0)){if(o===ni)return o=Ct.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};cr.prototype.onData=function(t){this.chunks.push(t)};cr.prototype.onEnd=function(t){t===or&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Zr.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function bi(t,r){let e=new cr(r);if(e.push(t),e.err)throw e.msg||ie[e.err];return e.result}function Bf(t,r){return r=r||{},r.raw=!0,bi(t,r)}var Ff=cr,Hf=bi,qf=Bf,Zf=bi,$f=ke,Gf={Inflate:Ff,inflate:Hf,inflateRaw:qf,ungzip:Zf,constants:$f},{Deflate:bg,deflate:wg,deflateRaw:xg,gzip:Wf}=Ql,{Inflate:Sg,inflate:Eg,inflateRaw:Tg,ungzip:kg}=Gf;var ls=Wf;var at=(u=>(u.userId="v",u.product_link="l",u.title="t",u.image="i",u.sku="s",u.full_category="c",u.price="p",u.old_price="op",u.currency="cu",u))(at||{});var U=class t{static baseApiUrl;static async sendRequest(r,e,n,i={}){return new Promise((o,a)=>{let s=new XMLHttpRequest;s.onreadystatechange=function(){if(s.readyState!==XMLHttpRequest.DONE)return;if(s.status!==200){a(new Error(`HTTP error: ${s.status} - ${s.statusText}`));return}let l=s.getResponseHeader("Content-Type");if(l)try{if(!s.responseText)return;let u=s.responseText;l.includes("json")&&(u=JSON.parse(s.responseText)),o(u)}catch(u){N.captureError(u),a(u)}},s.open(e,r),Object.keys(i).length!==0&&(s.withCredentials=!0,t.setHeaders(s,i)),s.send(n)})}static setHeaders(r,e){Object.keys(e).forEach(n=>{r.setRequestHeader(n,e[n])})}static async postJson(r,e){let n={"Content-Type":"application/json; charset=utf-8"};return t.sendRequest(r,"POST",JSON.stringify(e),n)}static async post(r,e,n={}){return t.sendRequest(r,"POST",e,n)}static async get(r){return t.sendRequest(r,"GET",void 0)}static apiUrl(r){return t.baseApiUrl?`${t.baseApiUrl}${r}`:r}static setBaseApiUrl(r){t.baseApiUrl=r}static getBaseApiUrl(){return t.baseApiUrl}};var xt=class{static extractQueryParam(r){let e={};if("URLSearchParams"in window){if(e=new URLSearchParams(window.parent.location.search),e.has(r))return String(e.get(r))||null}else if(e=window.parent.location.search.substring(1).split("&").reduce(function(i,o){let a=o.split("="),s=a[0],l=decodeURIComponent(a[1]);return l=Number.isNaN(Number(l))?l:String(l),{...i,[s]:l}},{}),e[r])return String(e[r])||null;return null}};var Gr=class{advertiserData={};async initialize(){let r=Re.extractUniqueAdvertiserIds(),e=S.loadItem("ma-session:id"),n=xt.extractQueryParam("utm_ma"),i=xt.extractQueryParam("utm_source")||xt.extractQueryParam("mtm_source");return i&&S.storeItem("ma-session:utm_source",i),n&&e!==n&&(S.deleteSessionParams(),S.storeSyncedSessionData("ma-session:id",n)),r.length!==0&&(await this.loadData(r),D.appendHiddenIframe("https://mediacdn.mediaad.org/static/fingerprint.html"),n&&/\w+-\d+-ts/.test(n)&&D.appendScript("https://cdn.mediaffic.ir/tapsell/web/face/postback/bundle.js"),D.setTimeoutWithCleanUp(()=>this.informSecondsSession("Duration10s"),1e4),D.setTimeoutWithCleanUp(()=>this.informSecondsSession("Duration30s"),3e4)),this.advertiserData}async loadData(r){let e=r.map(async n=>{try{let i=await U.get(`https://ma-cdn.pegah.tech/v1/retargeting/${n}/advertiser.json`);U.getBaseApiUrl()||U.setBaseApiUrl(i.system_api_url),this.advertiserData[n]=i}catch(i){N.captureError(i,n)}});await Promise.all(e)}async informNewSession(r){let e=S.loadItem("ma-session:id");if(e){let n=window.parent.location.href;try{let i=S.loadItem("ma-session:utm_source")||"";await U.postJson(U.apiUrl("/v1/events/post-back"),{clickId:e,actionName:`session-${r}`,uri:n,latestSource:i}),window.postMessage("ma:advertiser-aggregated",window.parent.location.origin)}catch(i){N.captureError(i,{clickId:e,actionName:`session-${r}`,uri:n})}}}async informSecondsSession(r){let e=S.loadItem("ma-session:id");if(e){let n=window.parent.location.href;try{let i=S.loadItem("ma-session:utm_source")||"";await U.postJson(U.apiUrl("/v1/events/post-back"),{clickId:e,actionName:`Session${r}`,uri:n,latestSource:i}),window.postMessage("ma:advertiser-aggregated",window.parent.location.origin)}catch(i){N.captureError(i,{clickId:e,actionName:`Session${r}`,uri:n})}}}},Kf=new Gr,ue=Kf;var pt=class t{static assignTagToUser(r,e){S.extendSession()==="new-session-needed"&&ue.informNewSession(S.incrementSessionNumber()).then().catch(l=>{N.captureError(l,{tagId:r})});let i=S.loadItem("ma-session:id"),a=new URLSearchParams(window.parent.location.search).get("utm_ma");if(i||a){let l=i??a,u=window.parent.location.href;t.postPostBackEvent(l,r,u).catch(c=>{})}let s=t.loadAttributeValues(e);Object.keys(s).length>0?t.sendTagEventWithAttribs(r,s,!!i).catch(l=>{}):t.sendTagEventWithoutAttribs(r,!!i).catch(l=>{})}static async postPostBackEvent(r,e,n){let i=S.loadItem("ma-session:utm_source")||"";return new Promise((o,a)=>{S.executeCustomActionOnceInSession(`pb:${e}`,function(){U.postJson(U.apiUrl("/v1/events/post-back"),{clickId:r,tagId:e,uri:n,latestSource:i}).then(()=>{window.postMessage("ma:advertiser-aggregated",window.parent.location.origin),o()}).catch(s=>{N.captureError(s,{tagId:e,pageUrl:n}),a(s)})})})}static async sendTagEventWithAttribs(r,e,n){return new Promise((i,o)=>{let a=`tag:${r}`;S.executeCustomActionInSession(a,function(){Q.withUserIdCallback(function(s){U.postJson(U.apiUrl(`/v1/events/tag?fid=${s}&c=${n}`),{tagId:r,av:e}).then(()=>{window.postMessage("ma:advertiser-aggregated",window.parent.location.origin),i()}).catch(l=>{N.captureError(l,{tagId:r}),o(l)})})})})}static async sendTagEventWithoutAttribs(r,e){return new Promise((n,i)=>{let o=`tag:${r}`;S.executeCustomActionOnceInSession(o,function(){Q.withUserIdCallback(function(a){U.postJson(U.apiUrl(`/v1/events/tag?fid=${a}&c=${e}`),{tagId:r}).then(()=>{window.postMessage("ma:advertiser-aggregated","*"),n()}).catch(s=>{N.captureError(s,{tagId:r}),i(s)})})})})}static externalTagCount(r){Q.withUserIdCallback(e=>{U.postJson(U.apiUrl("/v2/events/external-tag-count"),{v:e,i:r}).then(()=>{let i=Object.entries(ue.advertiserData).reduce((o,[,a])=>[...o,...a.tags],[]).find(o=>o.id.toString()===r.toString());t.assignTagToUser(Number(r),i?.attribs),window.postMessage("ma:advertiser-aggregated","*")}).catch(()=>{})})}static loadAttributeValues(r){let e={};return r&&r.forEach(n=>{e[n.name]=t.calculateAttributeValues(n)}),e}static calculateAttributeValues(r){let e,n={};try{e=JSON.parse(r.script),e&&e.forEach(i=>{n[i]=(n[i]||0)+1})}catch(i){N.captureError(i,{attribute:r})}return n}};var fs,Xf=[/۰/g,/۱/g,/۲/g,/۳/g,/۴/g,/۵/g,/۶/g,/۷/g,/۸/g,/۹/g],Jf=[/٠/g,/١/g,/٢/g,/٣/g,/٤/g,/٥/g,/٦/g,/٧/g,/٨/g,/٩/g],Vf=t=>{for(let r=0;r<10;r++)t=t.replace(Xf[r],r.toString()).replace(Jf[r],r.toString());return t},wi=t=>t.replace(/\r?\n|\r/g,"").trim(),Wr=class{#t;#e;constructor(r){this.#e=r,this.#t=r.property_selectors}pageData(){let r=!1,e=Object.keys(this.#t).reduce((n,i)=>((this.#t[i].required||this.#t[i].code||this.#t[i].selector)&&(n[i]=this.#r(this.#t[i],i),!n[i]&&this.#t[i].required&&(r=!0)),n),{});if(!r)return e}#r(r,e){return r.code?this.#i(r):this.#a(r,e)}#i(r){let e=new Function(wi(r.code));try{return e()}catch{return""}}#o(r){return r.selector.split("|").map(n=>({required:r.required,code:r.code,selector:n}))}#a(r,e){let n=this.#o(r),i="";for(r of n)if(e==="image"?i=this.#s(r):i=this.#u(r,e),i)break;return(e==="price"||e==="old_price")&&(i=Vf(i).replace(/\D/g,"")),i}#s({selector:r}){let e=document.querySelector(r);if(!e)return"";let n=a=>a.startsWith("http")?a:null,i=["src","data-src","href"],o=null;for(let a of i)if(o=e.getAttribute(a),o&&n(o))break;return o??""}static FullCategorySeparator="///";#u({selector:r},e){let n=document.querySelector(r);if(!n)return"";let i="";if(n.hasChildNodes())if(e==="full_category"){let o=new Set,a=new Set;this.#n(Array.from(n.childNodes)).map(l=>l.toString().trim()).filter(l=>!!l).reduce((l,u,c,d)=>((!this.#e.remove_last_category||c!==d.length-1)&&l.push(u),l),[]).forEach(l=>o.has(l)?a.add(l):o.add(l)),a.forEach(l=>o.delete(l));let s=[...o].map(l=>wi(l));a.forEach(l=>{s=s.map(u=>u.replaceAll(l,""))}),i=s.join(fs.FullCategorySeparator)}else i=Array.from(n.childNodes).filter(o=>o.nodeType===Node.TEXT_NODE).map(o=>wi(o.textContent??"")).join("");return i}#n(r){let e=[];return r.forEach(n=>{n.nodeType===Node.TEXT_NODE?e.push(n.textContent):e=[...e,...this.#n(Array.from(n.childNodes))]}),e}};fs=Wr;var Yr=Wr;var xi=class{constructor(r){this.advertiserData=r;this.matcher=new Zn(window.parent.location,document)}triggerIntervalCounter={};timeouts=[];matcher;processPage(){this.transferQueryParams(),this.notifyUserId(),Object.entries(this.advertiserData).forEach(([r,e])=>{this.informPageLoaded(e),S.extendSession()==="new-session-needed"&&ue.informNewSession(S.incrementSessionNumber()).then().catch(i=>{N.captureError(i)}),e.tags.forEach(i=>{this.matcher.testMatcherAsync(e,i,o=>{o&&(this.matcher.domainMatches("mvmchery.com")&&this.monitorElementRemoval(e,i),this.applyTriggerEvent(e,i))})})}),D.setIntervalWithCleanUp(()=>this.checkUrlChange(),1e3)}informPageLoaded(r){let{clientCrawlers:e,serverCrawlers:n,matchedCrawlers:i}=this.findMatchingCrawlers(r),o=window.parent.location.href;Q.withUserIdCallback(async a=>{let s=await this.pageLoaded(o,i,a);D.setTimeoutWithCleanUp(async()=>{if(e.length>0)for(let l of e){let c=new Yr(l).pageData();if(c){let d=this.#t(a,c,l.currency,o);await U.post(U.apiUrl(`/v2/events/client-product-viewed/${l.feed_id}`),JSON.stringify(d),{"Content-Type":"application/json"})}else await U.post(U.apiUrl(`/v2/events/product-deleted/${l.crawler_id}`),JSON.stringify({l:window.parent.location.href}),{"Content-Type":"application/json"})}if(n.length>0){if(!s)return;let l=this.buildContentPath(o,n,a,s),u=await this.createCompressedContent();await U.post(U.apiUrl(l),u,{"Content-Type":"application/octet-stream","Content-Encoding":"gzip"})}},2e3)})}findMatchingCrawlers(r){let e=(r.crawlers||[]).filter(o=>this.matcher.testMatcher(o)),n=e.filter(o=>o.client_side_crawl),i=e.filter(o=>!o.client_side_crawl);return{clientCrawlers:n,serverCrawlers:i,matchedCrawlers:e}}async createCompressedContent(){try{let r=await new Promise((e,n)=>{let i=ls(document.documentElement.outerHTML);i?e(i):n(new Error("Error creating compressed content."))});return new Blob([r])}catch(r){return N.captureError(r),new Blob([])}}#t(r,e,n,i){let o=Object.keys(e).reduce((a,s)=>{if(at[s]&&(a[at[s]]=e[s]),(a[at[s]]&&s==="price"||s==="old_price")&&(a[at[s]]=parseInt(a[at[s]])),a[at[s]]&&s==="full_category"){a[at[s]]=a[at[s]].split(Yr.FullCategorySeparator);let l;a[at[s]].forEach((u,c)=>{u==a.t&&(l=c)}),l!==void 0&&a[at[s]].splice(l,1)}return a},{});return o.v=r,o.cu=n,o.l=i,o}#e(r,e){let{domains:n=[],rejected_domains:i=[]}=e,o=window.parent.location.hostname;[...n,...i].some(a=>this.matcher.domainMatches(a))||this.#r(r,o)}async#r(r,e){let n={u:parseInt(r),l:e};try{await U.post(U.apiUrl("/v2/events/user-domain-check"),JSON.stringify(n),{"Content-Type":"application/json"})}catch(i){N.captureError(i,{})}}async pageLoaded(r,e,n){let i=this.buildRequestData(r,e,n);return await U.postJson(U.apiUrl("/v2/events/page/loaded"),i)}buildRequestData(r,e,n){let i={l:r};if(e.length>0&&(i.p=1,i.c=e.map(o=>o.crawler_id).join(",")),n){i.m=n;let o=S.loadItem("_yngt"),a=S.loadItem("sid");o&&(i.y=o),a&&(i.s=a)}return i}buildContentPath(r,e,n,i){let o=`/v2/events/page/content?t=${i}&l=${encodeURIComponent(r)}`;return e.length>0&&(o+=`&p=1&c=${e.map(a=>a.crawler_id).join(",")}`),n&&(o+=`&fid=${n}`),o}applyTriggerEvent(r,e){switch(e.trigger_type){case"showPage":this.handleShowPage(e);break;case"clickOnElement":this.handleClickOnElement(r,e);break;case"submitForm":this.handleSubmitForm(r,e);break;case"timeToStay":this.handleTimeToStay(e);break;case"customScript":this.handleCustomScript(e);break;default:}}handleShowPage(r){pt.assignTagToUser(r.id,r.attribs)}handleClickOnElement(r,e){let n=e.css_selector;if(!n)return;e.id in this.triggerIntervalCounter||(this.triggerIntervalCounter[e.id]=0);let i=D.setIntervalWithCleanUp(()=>{this.triggerIntervalCounter[e.id]+=1;let o=Array.from(document.querySelectorAll(n));(o.length>0||this.triggerIntervalCounter[e.id]>=r.max_interval_reset)&&clearInterval(i),o.forEach(a=>{let s=`ma-tag-${e.id}`;a.getAttribute(s)!=="true"&&(a.setAttribute(s,"true"),a.addEventListener("click",()=>{pt.assignTagToUser(e.id,e.attribs)},{signal:D.abortController.signal}))})},1e3);this.timeouts.push(i)}handleSubmitForm(r,e){let n=e.css_selector;if(!n)return;e.id in this.triggerIntervalCounter||(this.triggerIntervalCounter[e.id]=0);let i=D.setIntervalWithCleanUp(()=>{this.triggerIntervalCounter[e.id]+=1;let o=Array.from(document.querySelectorAll(n));(o.length>0||this.triggerIntervalCounter[e.id]>=r.max_interval_reset)&&clearInterval(i),o.forEach(a=>{let s=`ma-tag-${e.id}`;a.getAttribute(s)!=="true"&&(a.setAttribute(s,"true"),a.addEventListener("submit",()=>{pt.assignTagToUser(e.id,e.attribs)},{signal:D.abortController.signal}))})},1e3);this.timeouts.push(i)}handleTimeToStay(r){let e=D.setTimeoutWithCleanUp(()=>{pt.assignTagToUser(r.id,r.attribs)},r.time_to_remain*1e3);this.timeouts.push(e)}handleCustomScript(r){try{if(r.custom_script){let e=new Function("docReady","assignTagToUser","tag",r.custom_script);e.bind(this),e(D.onDocumentReady,pt.assignTagToUser,r)}}catch(e){N.captureError(e,{tag:r})}}refresh(){let r=this.timeouts.slice();if(this.timeouts.length=0,r.length===0)this.processPage();else{let e=0;r.forEach(n=>{clearTimeout(n),e+1===r.length&&this.processPage(),e+=1})}}checkUrlChange(){let r=D.getCurrentPath();r!==D.currentPath&&(D.currentPath=r,this.matcher.updateCurrentPath(),D.onDocumentReady(()=>{D.setTimeoutWithCleanUp(()=>this.refresh(),2e3)}))}monitorElementRemoval(r,e){if(!e.css_selector)return;let n=document.querySelector(e.css_selector);if(!n)return;new MutationObserver(o=>{o.forEach(()=>{document.contains(n)||D.throttleLikeTagAssignment(()=>this.applyTriggerEvent(r,e),e.id.toString())})}).observe(document.body,{childList:!0,subtree:!0})}transferQueryParams(){if((S.loadItem("ma-session:id")||xt.extractQueryParam("utm_ma"))===null)return;let e=new URL(window.parent.location.href),n=new URLSearchParams(e.search),i=s=>{s.forEach(l=>{let u=l.getAttribute("href");if(!u)return;let c=new URL(u);n.forEach((d,p)=>c.searchParams.append(p,d)),l.setAttribute("href",c.toString())})};new MutationObserver(()=>{D.throttleLikeTagAssignment(()=>{let s=document.querySelectorAll("[data-ma-cta]");i(s)},"tqp",1e3)}).observe(document.body,{childList:!0,subtree:!0});let a=document.querySelectorAll("[data-ma-cta]");i(a)}notifyUserId(){if(!xt.extractQueryParam("ma_fid"))return;let e=Q.getUserId()}},Si=xi;var ds="1.15.2";function ps(t,r={}){let e=location.href,n=r.pollingInterval??1e3,i=l=>{let u=location.href;u!==e&&(e=u,t(u,l))},o=()=>i("popstate"),a=()=>i("hashchange");window.addEventListener("popstate",o),window.addEventListener("hashchange",a);let s=setInterval(()=>{i("poll")},n);return()=>{window.removeEventListener("popstate",o),window.removeEventListener("hashchange",a),clearInterval(s)}}var Kr=class{constructor(){this.initializeApp()}initializeApp(){let r=new $e;window.tpsl_version=ds,!window.mediaadRetargetingScriptLoaded&&(window.mediaadRetargetingScriptLoaded=!0,r.initialize(),S.storeItem("ma-session:get","1"),S.deleteItem("ma-session:get"),D.onDocumentReady(async()=>{try{let e=await ue.initialize();this.prepareExternalTagCount();let n,i=()=>{n=new Si(e),n.processPage()};i(),ps(()=>{D.abortController.abort(),D.clearTimers(),n=void 0,i()})}catch(e){N.captureError(e)}}))}prepareExternalTagCount(){let r=localStorage.getItem("mediaad.retargeting.debug")==="true",e=window.mediaadRetargeting??{};window.mediaadRetargeting={ts:[],count:pt.externalTagCount,debug:r,...e},window.mediaadRetargeting.ts.forEach(window.mediaadRetargeting.count)}};var Cv=new Kr;})();
/*! Bundled license information:

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

pako/dist/pako.esm.mjs:
  (*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) *)
*/
